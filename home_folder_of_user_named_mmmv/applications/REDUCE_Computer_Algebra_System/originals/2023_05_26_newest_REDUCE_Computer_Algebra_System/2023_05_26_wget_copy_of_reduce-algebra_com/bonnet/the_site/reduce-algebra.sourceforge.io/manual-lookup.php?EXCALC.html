<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>EXCALC: A Diﬀerential Geometry Package</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="manual/manual.css" /> 
<meta name="src" content="manual.tex" /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script type="text/javascript" async="async" id="MathJax-script" src="../cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>  
<meta name="description" content="The REDUCE Computer Algebra System User's Manual" /> 
</head><body 
>
<header>REDUCE</header><table cellspacing="5"><tr><td class="clinks"><a 
href="manual-lookup.php%3FUser&#32;Contributed&#32;Packages.html#manualse143.html" >Up</a></td><td class="clinks"><a 
href="manual/manualse144.html" >Next</a></td><td class="clinks"><a 
href="manual/manualse142.html" >Prev</a></td><td class="clinks"><a 
href="manual/manualse142.html#tailmanualse142.html" >PrevTail</a></td><td class="clinks"><a 
href="manual-lookup.php%3FEXCALC:.html#tailmanualse143.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">20.20    </span> <a 
 id="x208-67800020.20"></a>EXCALC: A Diﬀerential Geometry Package</h3>
<a 
 id="dx208-678001"></a>
<a 
 id="dx208-678002"></a>
<!--l. 413--><p class="noindent" >EXCALC is designed for easy use by all who are familiar with the calculus of Modern
Diﬀerential Geometry. The program is currently able to handle scalar-valued exterior
forms, vectors and operations between them, as well as non-scalar valued forms (indexed
forms). It is thus an ideal tool for studying diﬀerential equations, doing calculations in
general relativity and ﬁeld theories, or doing simple things such as calculating the
Laplacian of a tensor ﬁeld for an arbitrary given frame.
</p><!--l. 421--><p class="noindent" >Author: Eberhard Schrüfer.
<a 
 id="dx208-678003"></a>
<a 
 id="dx208-678004"></a>
</p><!--l. 7--><p class="noindent" >
</p>
<h4 class="likesubsectionHead"><a 
 id="x208-67900020.20"></a>Acknowledgments</h4>
<!--l. 9--><p class="noindent" >This program was developed over several years. I would like to express my deep
gratitude to Dr. Anthony Hearn for his continuous interest in this work, and especially
for his hospitality and support during a visit in 1984/85 at the RAND Corporation, where
substantial progress on this package could be achieved. The Heinrich Hertz-Stiftung
supported this visit. Many thanks are also due to Drs. F.W. Hehl, University of Cologne,
and J.D. McCrea, University College Dublin, for their suggestions and work on testing
this program.
</p><!--l. 18--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.1    </span> <a 
 id="x208-68000020.20.1"></a>Introduction</h4>
<a 
 id="dx208-680001"></a>
<!--l. 21--><p class="noindent" ><span 
class="ptmb8t-x-x-109">EXCALC </span>is designed for easy use by all who are familiar with the calculus of
Modern Diﬀerential Geometry. Its syntax is kept as close as possible to standard
textbook notations. Therefore, no great experience in writing computer algebra
                                                                     

                                                                     
programs is required. It is almost possible to input to the computer the same as
what would have been written down for a hand-calculation. For example, the
statement
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1057">
                       f*x^y + u _| (y^z^x)
</pre>
<!--l. 29--><p class="nopar" > <a 
 id="dx208-680002"></a>would be recognized by the program as a formula involving exterior products and an
inner product. The program is currently able to handle scalar-valued exterior forms,
vectors and operations between them, as well as non-scalar valued forms (indexed
forms). With this, it should be an ideal tool for studying diﬀerential equations, doing
calculations in general relativity and ﬁeld theories, or doing such simple things as
calculating the Laplacian of a tensor ﬁeld for an arbitrary given frame. With the
increasing popularity of this calculus, this program should have an application in almost
any ﬁeld of physics and mathematics.
</p><!--l. 42--><p class="noindent" >Since the program is completely embedded in REDUCE, all features and facilities of
REDUCE are available in a calculation. Even for those who are not quite comfortable
in this calculus, there is a good chance of learning it by just playing with the
program.
</p><!--l. 47--><p class="noindent" >This is the last release of version 2. A much extended diﬀerential geometry package
(which includes complete symbolic index simpliﬁcation, tensors, mappings, bundles and
others) is under development.
</p><!--l. 51--><p class="noindent" >Complaints and comments are appreciated and should be send to the author. If the use of
this program leads to a publication, this document should be cited, and a copy of the
article to the above address would be welcome.
</p><!--l. 56--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.2    </span> <a 
 id="x208-68100020.20.2"></a>Declarations</h4>
<!--l. 58--><p class="noindent" >Geometrical objects like exterior forms or vectors are introduced to the system by
declaration commands. The declarations can appear anywhere in a program,
but must, of course, be made prior to the use of the object. Everything that
has no declaration is treated as a constant; therefore zero-forms must also be
declared.
</p><!--l. 64--><p class="noindent" >An exterior form is introduced by <a 
 id="dx208-681001"></a> <a 
 id="dx208-681002"></a><a 
 id="command:PFORM"></a>
</p><!--l. 68--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">pform</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">declaration</span>\(_1\) \(&gt;\), \(&lt;\) <span 
class="ptmri8t-x-x-109">declaration</span>\(_2\) \(&gt;\), …;
</p><!--l. 70--><p class="noindent" >where </p>
                                                                     

                                                                     
<div class="flushleft" 
>
<!--l. 71--><p class="noindent" >
 \(&lt;\) <span 
class="ptmri8t-x-x-109">declaration</span> \(&gt;\) ::= \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span> \(&gt;\) \(\mid \) \(&lt;\) <span 
class="ptmri8t-x-x-109">list of names</span> \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">number</span> \(&gt;\) \(\mid \) \(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\) \(\mid \)<br />
\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span> \(&gt;\)<br />
\(&lt;\) <span 
class="ptmri8t-x-x-109">name</span> \(&gt;\) ::= \(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\) \(\mid \) \(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\)(\(&lt;\) <span 
class="ptmri8t-x-x-109">arguments</span> \(&gt;\))</p></div>
<!--l. 77--><p class="noindent" >For example
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1058">
     pform u=k,v=4,f=0,w=dim-1;
</pre>
<!--l. 80--><p class="nopar" > declares <span 
class="pcrr8t-x-x-109">u </span>to be an exterior form of degree <span 
class="pcrr8t-x-x-109">k</span>, <span 
class="pcrr8t-x-x-109">v </span>to be a form of degree 4, <span 
class="pcrr8t-x-x-109">f </span>to be a form
of degree 0 (a function), and <span 
class="pcrr8t-x-x-109">w </span>to be a form of degree <span 
class="pcrr8t-x-x-109">dim</span>-1.
</p><!--l. 85--><p class="noindent" >If the exterior form should have indices, the declaration would be <a 
 id="dx208-681003"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1059">
     pform curv(a,b)=2,chris(a,b)=1;
</pre>
<!--l. 89--><p class="nopar" > The names of the indices are arbitrary.
</p><!--l. 92--><p class="noindent" >Exterior forms of the same degree can be grouped into lists to save typing.
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1060">
     pform {x,y,z}=0,{rho(k,l),u,v(k)}=1;
</pre>
<!--l. 95--><p class="nopar" > The declaration of vectors is similar. The command <span 
class="pcrr8t-x-x-109">tvector </span>takes a list of names.
<a 
 id="dx208-681004"></a> <a 
 id="dx208-681005"></a><a 
 id="command:TVECTOR"></a>
</p><!--l. 100--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">tvector</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span>\(_1\) \(&gt;\), \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span>\(_2\) \(&gt;\), …;
</p><!--l. 102--><p class="noindent" >For example, to declare <span 
class="pcrr8t-x-x-109">x </span>as a vector and <span 
class="pcrr8t-x-x-109">comm </span>as a vector with two indices, one would
say
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1061">
     tvector x,comm(a,b);
</pre>
<!--l. 106--><p class="nopar" > If a declaration of an already existing name is made, the old declaration is removed, and
the new one is taken.
</p><!--l. 110--><p class="noindent" >The exterior degree of a symbol or a general expression can be obtained with the
function <a 
 id="dx208-681006"></a> <a 
 id="operator:EXDEGREE"></a>
</p><!--l. 114--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">exdegree</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span> \(&gt;\);
</p><!--l. 116--><p class="noindent" >Example:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1062">
     exdegree(u + 3*chris(k,-k));

     1
</pre>
<!--l. 121--><p class="nopar" >
</p><!--l. 124--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.3    </span> <a 
 id="x208-68200020.20.3"></a>Exterior Multiplication</h4>
<a 
 id="dx208-682001"></a>
<a 
 id="dx208-682002"></a>
<!--l. 128--><p class="noindent" >Exterior multiplication between exterior forms is carried out with the nary inﬁx operator
^ (wedge). Factors are ordered according to the usual ordering in REDUCE using the
commutation rule for exterior products.
<a 
 id="x208-682003r1"></a>
</p><!--l. 133--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 1</span><a 
 id="dx208-682004"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1063">
     pform u=1,v=1,w=k;

     u^v;

     u^v

     v^u;

     - u^v

     u^u;

     0

     w^u^v;

           k
     ( - 1) *u^v^w

     (3*u-a*w)^(w+5*v)^u;

     a*(5*u^v^w - u^w^w)
</pre>
<!--l. 158--><p class="nopar" >
</p><!--l. 160--><p class="noindent" >It is possible to declare the dimension of the underlying space by <a 
 id="dx208-682005"></a> <a 
 id="dx208-682006"></a><a 
 id="command:SPACEDIM"></a>
</p><!--l. 164--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">spacedim</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">number</span> \(&gt;\) \(\mid \) \(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\);
</p><!--l. 166--><p class="noindent" >If an exterior product has a degree higher than the dimension of the space, it is replaced
by 0:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1064">
     spacedim 4;

     pform u=2,v=3;

     u^v;

     0
</pre>
<!--l. 177--><p class="nopar" >
</p><!--l. 180--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.4    </span> <a 
 id="x208-68300020.20.4"></a>Partial Diﬀerentiation</h4>
<!--l. 182--><p class="noindent" >Partial diﬀerentiation is denoted by the operator <span 
class="pcrr8t-x-x-109">@</span>. Its capability is the same as the
REDUCE <span 
class="pcrr8t-x-x-109">df </span>operator. <a 
 id="dx208-683001"></a> <a 
 id="dx208-683002"></a><a 
 id="dx208-683003"></a> <a 
 id="operator:@"></a>
<a 
 id="x208-683004r2"></a>
</p><!--l. 188--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 2</span><a 
 id="dx208-683005"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1065">
     @(sin x,x);

     cos(x)

     @(f,x);

     0
</pre>
<!--l. 198--><p class="nopar" >
</p><!--l. 200--><p class="noindent" >An identiﬁer can be declared to be a function of certain variables. <a 
 id="dx208-683006"></a><a 
 id="command:FDOMAIN"></a> This is done with
the command <span 
class="pcrr8t-x-x-109">fdomain</span>. The following would tell the partial diﬀerentiation
operator that <span 
class="pcrr8t-x-x-109">f </span>is a function of the variables <span 
class="pcrr8t-x-x-109">x </span>and <span 
class="pcrr8t-x-x-109">y </span>and that <span 
class="pcrr8t-x-x-109">h </span>is a function of
<span 
class="pcrr8t-x-x-109">x</span>.
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1066">
     fdomain f=f(x,y),h=h(x);
</pre>
<!--l. 208--><p class="nopar" > Applying <span 
class="pcrr8t-x-x-109">@ </span>to <span 
class="pcrr8t-x-x-109">f </span>and <span 
class="pcrr8t-x-x-109">h </span>would result in
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1067">
     @(x*f,x);

     f + x*@  f
            x

     @(h,y);

     0
</pre>
<!--l. 219--><p class="nopar" >
<a 
 id="dx208-683007"></a>
</p><!--l. 222--><p class="noindent" >The partial derivative symbol can also be an operator with a single argument. It then
represents a natural base element of a tangent vector.
<a 
 id="x208-683008r3"></a>
</p><!--l. 226--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 3</span><a 
 id="dx208-683009"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1068">
     a*@ x + b*@ y;

     a*@  + b*@
        x      y
</pre>
<!--l. 233--><p class="nopar" >
</p><!--l. 235--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.5    </span> <a 
 id="x208-68400020.20.5"></a>Exterior Diﬀerentiation</h4>
<a 
 id="dx208-684001"></a>
<!--l. 237--><p class="noindent" >Exterior diﬀerentiation of exterior forms is carried out by the operator <span 
class="pcrr8t-x-x-109">d</span>. Products are
normally diﬀerentiated out, <span 
class="ptmri8t-x-x-109">i.e.</span>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1069">
     pform x=0,y=k,z=m;

     d(x * y);

     x*d y + d x^y

     d(r*y);

     r*d y

     d(x*y^z);

           k
     ( - 1) *x*y^d z  + x*d y^z + d x^y^z
</pre>
<!--l. 255--><p class="nopar" >
</p><!--l. 257--><p class="noindent" >This expansion can be suppressed by the command <span 
class="pcrr8t-x-x-109">noxpnd d</span>. <a 
 id="dx208-684002"></a><a 
 id="command:NOXPND"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1070">
     noxpnd d;

     d(y^z);

     d(y^z)
</pre>
<!--l. 266--><p class="nopar" >
</p><!--l. 268--><p class="noindent" >To obtain a canonical form for an exterior product when the expansion is switched oﬀ,
the operator <span 
class="pcrr8t-x-x-109">d </span>is shifted to the right if it appears in the leftmost place.
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1071">
     d y ^ z;

             k
     - ( - 1) *y^d z + d(y^z)
</pre>
<!--l. 277--><p class="nopar" >
</p><!--l. 279--><p class="noindent" >Expansion is performed again when the command <span 
class="pcrr8t-x-x-109">xpnd d </span>is executed. <a 
 id="dx208-684003"></a><a 
 id="command:XPND"></a>
</p><!--l. 282--><p class="noindent" >Functions which are implicitly deﬁned by the <span 
class="pcrr8t-x-x-109">fdomain </span>command are expanded into
partial derivatives:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1072">
     pform x=0,y=0,z=0,f=0;

     fdomain f=f(x,y);

     d f;

     @  f*d x + @  f*d y
      x          y
</pre>
<!--l. 294--><p class="nopar" >
</p><!--l. 296--><p class="noindent" >If an argument of an implicitly deﬁned function has further dependencies the chain rule
will be applied <span 
class="ptmri8t-x-x-109">e.g.</span> <a 
 id="dx208-684004"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1073">
     fdomain y=y(z);

     d f;

     @  f*d x + @  f*@  y*d z
      x          y    z
</pre>
<!--l. 307--><p class="nopar" >
</p><!--l. 309--><p class="noindent" >Expansion into partial derivatives can be inhibited by <span 
class="pcrr8t-x-x-109">noxpnd @ </span>and enabled again by
<span 
class="pcrr8t-x-x-109">xpnd @</span>. <a 
 id="dx208-684005"></a> <a 
 id="dx208-684006"></a>
</p><!--l. 314--><p class="noindent" >The operator is of course aware of the rules that a repeated application always leads to
zero and that there is no exterior form of higher degree than the dimension of the
space.
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1074">
     d d x;

     0

     pform u=k;
     spacedim k;

     d u;

     0
</pre>
<!--l. 329--><p class="nopar" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.6    </span> <a 
 id="x208-68500020.20.6"></a>Inner Product</h4>
<a 
 id="dx208-685001"></a>
<!--l. 332--><p class="noindent" >The inner product between a vector and an exterior form is represented by the diphthong
<span 
class="pcrr8t-x-x-109">_| </span>(underscore or-bar), which is the notation of many textbooks. If the exterior
form is an exterior product, the inner product is carried through any factor.
<a 
 id="dx208-685002"></a> <a 
 id="reserved:innerprodop"></a>
<a 
 id="x208-685003r4"></a>
</p><!--l. 339--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 4</span><a 
 id="dx208-685004"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1075">
     pform x=0,y=k,z=m;

     tvector u,v;

     u _| (x*y^z);

              k
     x*(( - 1) *y^u _| z + u _| y^z)
</pre>
<!--l. 350--><p class="nopar" >
</p><!--l. 352--><p class="noindent" >In repeated applications of the inner product to the same exterior form the vector
arguments are ordered <span 
class="ptmri8t-x-x-109">e.g.</span>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1076">
     (u+x*v) _| (u _| (3*z));

     - 3*u _| v _| z
</pre>
<!--l. 359--><p class="nopar" >
</p><!--l. 361--><p class="noindent" >The duality of natural base elements is also known by the system, <span 
class="ptmri8t-x-x-109">i.e.</span>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1077">
     pform {x,y}=0;

     (a*@ x+b*@(y)) _| (3*d x-d y);

     3*a - b
</pre>
<!--l. 369--><p class="nopar" >
</p><!--l. 371--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.7    </span> <a 
 id="x208-68600020.20.7"></a>Lie Derivative</h4>
<a 
 id="dx208-686001"></a>
<!--l. 374--><p class="noindent" >The Lie derivative can be taken between a vector and an exterior form or between two
vectors. It is represented by the inﬁx operator <span 
class="pcrr8t-x-x-109">|_ </span>. In the case of Lie diﬀerentiating, an
exterior form by a vector, the Lie derivative is expressed through inner products and
exterior diﬀerentiations, <span 
class="ptmri8t-x-x-109">i.e.</span> <a 
 id="dx208-686002"></a> <a 
 id="reserved:liederivativeop"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1078">
     pform z=k;

     tvector u;

     u |_ z;

     u _| d z + d(u _| z)
</pre>
<!--l. 389--><p class="nopar" >
</p><!--l. 391--><p class="noindent" >If the arguments of the Lie derivative are vectors, the vectors are ordered using
the anticommutivity property, and functions (zero forms) are diﬀerentiated
out.
<a 
 id="x208-686003r5"></a>
</p><!--l. 395--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 5</span><a 
 id="dx208-686004"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1079">
     tvector u,v;

     v |_ u;

     - u |_ v

     pform x=0,y=0;

     (x*u) |_ (y*v);

     - u*y*v _| d x + v*x*u _| d y + x*y*u |_ v
</pre>
<!--l. 409--><p class="nopar" >
</p><!--l. 411--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.8    </span> <a 
 id="x208-68700020.20.8"></a>Hodge-* Duality Operator</h4>
<a 
 id="dx208-687001"></a>
<a 
 id="dx208-687002"></a>
<!--l. 414--><p class="noindent" ><a 
 id="reserved:hodegestareop"></a> The Hodge-* duality operator maps an exterior form of degree <span 
class="pcrr8t-x-x-109">k </span>to an exterior form of
degree <span 
class="pcrr8t-x-x-109">n-k</span>, where <span 
class="pcrr8t-x-x-109">n </span>is the dimension of the space. The double application of the
operator must lead back to the original exterior form up to a factor. The following
example shows how the factor is chosen here
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1080">
     spacedim n;
     pform x=k;

     # # x;

             2
           (k  + k*n)
     ( - 1)          *x*sgn
</pre>
<!--l. 430--><p class="nopar" > <a 
 id="dx208-687003"></a> <a 
 id="dx208-687004"></a>The indeterminate sgn in the above example denotes the sign of the determinant of the
metric. It can be assigned a value or will be automatically set if more of the
metric structure is speciﬁed (via <span 
class="ptmb8t-x-x-109">coframe</span>), <span 
class="ptmri8t-x-x-109">i.e. </span>it is then set to \(g/|g|\), where \(g\) is the
determinant of the metric. If the Hodge-* operator appears in an exterior product of
maximal degree as the leftmost factor, the Hodge-* is shifted to the right according
to
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1081">
     pform {x,y}=k;

     # x ^ y;

             2
           (k  + k*n)
     ( - 1)          *x^# y
</pre>
<!--l. 449--><p class="nopar" >
</p><!--l. 451--><p class="noindent" >More simpliﬁcations are performed if a coframe is deﬁned.
</p><!--l. 455--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.9    </span> <a 
 id="x208-68800020.20.9"></a>Variational Derivative</h4>
<a 
 id="dx208-688001"></a>
<a 
 id="dx208-688002"></a>
<!--l. 458--><p class="noindent" ><a 
 id="operator:VARDF"></a> <a 
 id="dx208-688003"></a> The function <span 
class="pcrr8t-x-x-109">vardf </span>returns as its value the variation of a given Lagrangian n-form
with respect to a speciﬁed exterior form (a ﬁeld of the Lagrangian). In the shared variable
<a 
 id="dx208-688004"></a> <span 
class="pcrr8t-x-x-109">bndeq!*</span>, the expression is stored that has to yield zero if integrated over the
boundary.
</p><!--l. 467--><p class="noindent" >Syntax:
</p><!--l. 469--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">vardf</span>(\(&lt;\) <span 
class="ptmri8t-x-x-109">Lagrangian n-form</span> \(&gt;\),\(&lt;\) <span 
class="ptmri8t-x-x-109">exterior form</span> \(&gt;\))
<a 
 id="x208-688005r6"></a>
</p><!--l. 471--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 6</span><a 
 id="dx208-688006"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1082">
  spacedim 4;

  pform l=4,a=1,j=3;

  l:=-1/2*d a ^ # d a - a^# j$  %Lagrangian of the e.m. field

  vardf(l,a);

  - (# j + d # d a)             %Maxwell’s equations

  bndeq!*;

  - ’a^# d a                    %Equation at the boundary
</pre>
<!--l. 486--><p class="nopar" > Restrictions:
</p><!--l. 489--><p class="noindent" >In the current implementation, the Lagrangian must be built up by the ﬁelds and the
operations <span 
class="pcrr8t-x-x-109">d</span>, <span 
class="pcrr8t-x-x-109">#</span>, and <span 
class="pcrr8t-x-x-109">@</span>. Variation with respect to indexed quantities is currently not
allowed.
</p><!--l. 493--><p class="noindent" >For the calculation of the conserved currents induced by symmetry operators (vector
ﬁelds), the function <span 
class="pcrr8t-x-x-109">noether</span><a 
 id="dx208-688007"></a><a 
 id="operator:NOETHER"></a> is provided. It has the syntax:
</p><!--l. 498--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">noether</span>(\(&lt;\) <span 
class="ptmri8t-x-x-109">Lagrangian n-form</span> \(&gt;\),\(&lt;\) <span 
class="ptmri8t-x-x-109">ﬁeld</span> \(&gt;\),\(&lt;\) <span 
class="ptmri8t-x-x-109">symmetry generator</span> \(&gt;\))
<a 
 id="x208-688008r7"></a>
</p><!--l. 501--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 7</span><a 
 id="dx208-688009"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1083">
  pform l=4,a=1,f=2;

  spacedim 4;

  l := -1/2*d a^#d a;   %Free Maxwell field;

  tvector x;        %An unspecified generator;

  noether(l,a,x);

    - 2*d(x _| a)^# d a + d a^x _| # d a - x _| d a^# d a
   --------------------------------------------------------
                           2


</pre>
<!--l. 518--><p class="nopar" >
</p><!--l. 520--><p class="noindent" >The above expression would be the canonical energy momentum 3-forms of the Maxwell
ﬁeld, if X is interpreted as a translation;
</p><!--l. 526--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.10    </span> <a 
 id="x208-68900020.20.10"></a>Handling of Indices</h4>
<a 
 id="dx208-689001"></a>
<!--l. 528--><p class="noindent" >Exterior forms and vectors may have indices. On input, the indices are given as
arguments of the object. A positive argument denotes a superscript and a negative
argument a subscript. On output, the indexed quantity is displayed two dimensionally if
<span 
class="pcrr8t-x-x-109">nat </span>is on. <a 
 id="dx208-689002"></a><a 
 id="dx208-689003"></a><a 
 id="dx208-689004"></a> Indices may be identiﬁers or numbers.
<a 
 id="x208-689005r8"></a>
</p><!--l. 535--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 8</span><a 
 id="dx208-689006"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1084">
     pform om(k,l)=m,e(k)=1;

     e(k)^e(-l);

      k
     e ^e
         l

     om(4,-2);

       4
     om
        2
</pre>
<!--l. 551--><p class="nopar" >
</p><!--l. 553--><p class="noindent" >In the current release, full simpliﬁcation is performed only if an index range is
speciﬁed. It is hoped that this restriction can be removed soon. If the index
range (the values that the indices can obtain) is speciﬁed, the given expression
is evaluated for all possible index values, and the summation convention is
understood.
<a 
 id="x208-689007r9"></a>
</p><!--l. 559--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 9</span><a 
 id="dx208-689008"></a> <a 
 id="dx208-689009"></a> <a 
 id="command:INDEXRANGE"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1085">
     indexrange t,r,ph,z;

     pform e(k)=1,s(k,l)=2;

     w := e(k)*e(-k);

              t       r        ph       z
     w := e *e  + e *e  + e  *e   + e *e
           t       r       ph        z


     s(k,l):=e(k)^e(l);

      t t
     s    := 0

      r t       t  r
     s    := - e ^e

      ph t       t  ph
     s     := - e ^e

       .
       .
       .

</pre>
<!--l. 590--><p class="nopar" >
</p><!--l. 592--><p class="noindent" >If the expression to be evaluated is not an assignment, the values of the expression are
displayed as an assignment to an indexed variable with name <span 
class="pcrr8t-x-x-109">ns</span>. This is done only on
output, <span 
class="ptmri8t-x-x-109">i.e. </span>no actual binding to the variable ns occurs. <a 
 id="dx208-689010"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1086">
     e(k)^e(l);

       t t
     ns    := 0

       r t       t  r
     ns    := - e ^e
       .
       .
       .
</pre>
<!--l. 609--><p class="nopar" >
</p><!--l. 611--><p class="noindent" >It should be noted, however, that the index positions on the variable ns can sometimes not
be uniquely determined by the system (because of possible reorderings in the
expression). Generally it is advisable to use assignments to display complicated
expressions.
</p><!--l. 616--><p class="noindent" >A range can also be assigned to individual index-names. For example, the declaration
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1087">
    indexrange {k,l}={x,y,z},{u,v,w}={1,2};
</pre>
<!--l. 621--><p class="nopar" >
</p><!--l. 623--><p class="noindent" >would assign to the index identiﬁers k,l the range values x,y,z and to the index
identiﬁers u,v,w the range values 1,2. The use of an index identiﬁer not listed in
previous indexrange statements has the range of the union of all given index
ranges.
</p><!--l. 628--><p class="noindent" >With the above example of an indexrange statement, the following index evaluations
would take place
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1088">
     pform w n=0;

     w(k)*w(-k);

         x       y       z
     w *w  + w *w  + w *w
      x       y       z

     w(u)*w(-u);

         1       2
     w *w  + w *w
      1       2

     w(r)*w(-r);

         1       2       x       y       z
     w *w  + w *w  + w *w  + w *w  + w *w
      1       2       x       y       z
</pre>
<!--l. 651--><p class="nopar" >
</p><!--l. 653--><p class="noindent" >In certain cases, one would like to inhibit the summation over speciﬁed index names, or
at all. For this the command
<a 
 id="dx208-689011"></a>
</p><!--l. 656--><p class="noindent" ><a 
 id="command:NOSUM"></a>            <span 
class="ptmb8t-x-x-109">nosum</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">indexname</span>\(_1\) \(&gt;\), …;
</p><!--l. 659--><p class="noindent" >and the switch <span 
class="pcrr8t-x-x-109">nosum </span>are<a 
 id="dx208-689012"></a><a 
 id="dx208-689013"></a><a 
 id="dx208-689014"></a> <a 
 id="command:RENOSUM"></a> <a 
 id="switch:NOSUM"></a> available. The command <span 
class="pcrr8t-x-x-109">nosum </span>has the eﬀect that
summation is not performed over those indices which had been listed. The command
<span 
class="pcrr8t-x-x-109">renosum </span>enables summation again. The switch <span 
class="pcrr8t-x-x-109">nosum</span>, if on, inhibits any summation.
<a 
 id="dx208-689015"></a>
<a 
 id="dx208-689016"></a>
</p><!--l. 668--><p class="noindent" ><a 
 id="command:INDEX_SYMMETRIES"></a> It is possible to declare symmetry properties for an indexed quantity by the command
<span 
class="pcrr8t-x-x-109">index_symmetries</span>. A prototypical example is as follows
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1089">

    index_symmetries u(k,l,m,n): symmetric     in {k,l},{m,n}
                                 antisymmetric in {{k,l},{m,n}},
                     g(k,l),h(k,l): symmetric;

</pre>
<!--l. 679--><p class="nopar" >
</p><!--l. 681--><p class="noindent" >It declares the object <span 
class="pcrr8t-x-x-109">u </span>symmetric in the ﬁrst two and last two indices and antisymmetric
with respect to commutation of the given index pairs. If an object is completely
symmetric or antisymmetric, the indices need not to be given after the corresponding
keyword as shown above for <span 
class="pcrr8t-x-x-109">g </span>and <span 
class="pcrr8t-x-x-109">h</span>.
</p><!--l. 687--><p class="noindent" >If applicable, this command should be issued, since great savings in memory and
execution time result. Only strict components are printed.
</p><!--l. 691--><p class="noindent" >The commands symmetric and antisymmetric of earlier releases have no eﬀect.
</p><!--l. 695--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.11    </span> <a 
 id="x208-69000020.20.11"></a>Metric Structures</h4>
<a 
 id="dx208-690001"></a>
<a 
 id="dx208-690002"></a>
<!--l. 698--><p class="noindent" ><a 
 id="command:COFRAME"></a> A metric structure is deﬁned in <span 
class="ptmrc8t-x-x-109">E<span 
class="small-caps">X</span><span 
class="small-caps">C</span><span 
class="small-caps">A</span><span 
class="small-caps">L</span><span 
class="small-caps">C</span> </span>by specifying a set of basis one-forms (the
coframe) together with the metric<a 
 id="dx208-690003"></a>.
</p><!--l. 703--><p class="noindent" >Syntax:
</p>
<div class="flushleft" 
>
<!--l. 705--><p class="noindent" >
                                                                     

                                                                     
 <!--tex4ht:inline--></p><div class="tabular"> <table id="TBL-78" class="tabular" 
 
><colgroup id="TBL-78-1g"><col 
id="TBL-78-1" /><col 
id="TBL-78-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-78-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-1-1"  
class="td00">           <span 
class="ptmb8t-x-x-109">coframe</span> </td><td  style="white-space:nowrap; text-align:left;" id="TBL-78-1-2"  
class="td01">\(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\)\(&lt;\) <span 
class="ptmri8t-x-x-109">(index</span>\(_1\)<span 
class="ptmri8t-x-x-109">)</span> \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span>\(_1\) \(&gt;\),         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-78-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-2-1"  
class="td00">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-78-2-2"  
class="td01">\(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\)\(&lt;\) <span 
class="ptmri8t-x-x-109">(index</span>\(_2\)<span 
class="ptmri8t-x-x-109">)</span> \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span>\(_2\) \(&gt;\),         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-78-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-3-1"  
class="td00">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-78-3-2"  
class="td01">.                                                          </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-78-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-4-1"  
class="td00">  </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-78-4-2"  
class="td01">.</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-78-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-5-1"  
class="td00">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-78-5-2"  
class="td01">.                                                          </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-78-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-6-1"  
class="td00">  </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-78-6-2"  
class="td01">\(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span>  \(&gt;\)\(&lt;\) <span 
class="ptmri8t-x-x-109">(index</span>\(_n\)<span 
class="ptmri8t-x-x-109">)</span>  \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span>\(_n\)  \(&gt;\)</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-78-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-7-1"  
class="td00">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-78-7-2"  
class="td01">      <span 
class="ptmb8t-x-x-109">with metric</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span> \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span> \(&gt;\);</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-78-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-78-8-1"  
class="td00">             </td></tr></table>
</div></div>
<a 
 id="dx208-690004"></a>
<a 
 id="dx208-690005"></a>
<!--l. 719--><p class="noindent" >This statement automatically sets the dimension of the space and the index range. The
clause <span 
class="pcrr8t-x-x-109">with metric </span>can be omitted if the metric <a 
 id="dx208-690006"></a> is Euclidean and the shorthand
<span 
class="pcrr8t-x-x-109">with signature</span> \(&lt;\)<span 
class="pcrro8t-x-x-109">diagonal elements</span>\(&gt;\) can be used in the case of a
pseudo-Euclidean metric. The splitting of a metric structure in its metric tensor
coeﬃcients and basis one-forms is completely arbitrary including the extremes of an
orthonormal frame and a coordinate frame.
<a 
 id="x208-690007r10"></a>
</p><!--l. 728--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 10</span><a 
 id="dx208-690008"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1090">
 coframe e r=d r, e(ph)=r*d ph
   with metric g=e(r)*e(r)+e(ph)*e(ph);    %Polar coframe

 coframe e(r)=d r,e(ph)=r*d(ph);           %Same as before

 coframe o(t)=d t, o x=d x
   with signature -1,1;                    %A Lorentz coframe

 coframe b(xi)=d xi, b(eta)=d eta          %A lightcone coframe
   with metric w=-1/2*(b(xi)*b(eta)+b(eta)*b(xi));

 coframe e r=d r, e ph=d ph                %Polar coordinate
   with metric g=e r*e r+r**2*e ph*e ph;   %basis

</pre>
<!--l. 745--><p class="nopar" >
</p><!--l. 747--><p class="noindent" >Individual elements of the metric can be accessed just by calling them with the
desired indices. The value of the determinant of the <a 
 id="dx208-690009"></a><a 
 id="dx208-690010"></a> covariant metric is stored
in the variable <span 
class="pcrr8t-x-x-109">detm!*</span>. The metric is not needed for lowering or raising of
indices as the system performs this automatically, <span 
class="ptmri8t-x-x-109">i.e. </span>no matter in what index
position values were assigned to an indexed quantity, the values can be retrieved
for any index position just by writing the indexed quantity with the desired
indices.
<a 
 id="x208-690011r11"></a>
</p><!--l. 757--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 11</span><a 
 id="dx208-690012"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1091">
     coframe e t=d t,e x=d x,e y=d y
      with signature -1,1,1;

     pform f(k,l)=0;

     index_symmetries f(k,l): antisymmetric;

     f(k,l) := 0$
     f(-t,-x):=ex$ f(-x,-y):=b$
     on nero;

     f(k,-l);

       x
     ns     := - ex
         t

       t
     ns     := - ex
         x

       y
     ns     := - b
         x

       x
     ns    := b
         y
</pre>
<!--l. 788--><p class="nopar" >
</p><!--l. 790--><p class="noindent" >Any expression containing diﬀerentials of the coordinate functions will be transformed
into an expression of the basis one-forms.The system also knows how to take the exterior
derivative of the basis one-forms.
<a 
 id="dx208-690013"></a>
<a 
 id="x208-690014r12"></a>
</p><!--l. 795--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 12</span> (Spherical coordinates)<a 
 id="dx208-690015"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1092">
     coframe e(r)=d(r), e(th)=r*d(th), e(ph)=r*sin(th)*d(ph);

     d r^d th;

       r  th
     (e ^e  )/r

     d(e(th));

       r  th
     (e ^e  )/r


     pform f=0;

     fdomain f=f(r,th,ph);

     factor e;

     on rat;

     d f;       %the &#x0022;gradient&#x0022; of f in spherical coordinates;

      r          th              ph
     e *@  f + (e  *@   f)/r + (e  *@   f)/(r*sin(th))
         r           th              ph
</pre>
<!--l. 824--><p class="nopar" >
</p><!--l. 826--><p class="noindent" >The frame dual to the frame deﬁned by the <span 
class="pcrr8t-x-x-109">coframe </span>command can be introduced by
<span 
class="ptmb8t-x-x-109">frame </span>command. <a 
 id="dx208-690016"></a> <a 
 id="command:FRAME"></a>
</p><!--l. 830--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">frame</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">identiﬁer</span> \(&gt;\);
</p><!--l. 832--><p class="noindent" >This command causes the dual property to be recognized, and the tangent vectors of the
coordinate functions are replaced by the frame basis vectors.
<a 
 id="x208-690017r13"></a>
</p><!--l. 836--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 13</span><a 
 id="dx208-690018"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1093">
   coframe b r=d r,b ph=r*d ph,e z=d z; %Cylindrical coframe;

   frame x;

   on nero;

   x(-k) _| b(l);

       r
   ns    := 1
     r

        ph
   ns      := 1
     ph

       z
   ns    := 1
     z

   x(-k) |_ x(-l);       %The commutator of the dual frame;


   ns     := x  /r
     ph r     ph


   ns     := ( - x  )/r  %i.e. it is not a coordinate base;
     r ph         ph

</pre>
<!--l. 869--><p class="nopar" >
<a 
 id="dx208-690019"></a>
<a 
 id="dx208-690020"></a>
<a 
 id="dx208-690021"></a>
</p><!--l. 872--><p class="noindent" ><a 
 id="command:DISPLAYFRAME"></a> As a convenience, the frames can be displayed at any point in a program by the
command <span 
class="pcrr8t-x-x-109">displayframe;</span>.
                                                                     

                                                                     
<a 
 id="dx208-690022"></a>
</p><!--l. 877--><p class="noindent" >The Hodge-* duality operator returns the explicitly constructed dual element if applied to
coframe base elements. The metric is properly taken into account.
<a 
 id="dx208-690023"></a>
<a 
 id="dx208-690024"></a>
</p><!--l. 882--><p class="noindent" >The total antisymmetric Levi-Cevita tensor <span 
class="pcrr8t-x-x-109">eps </span>is also available. The value of <span 
class="pcrr8t-x-x-109">eps</span>
with an even permutation of the indices in a covariant position is taken to be
+1.
</p><!--l. 887--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.12    </span> <a 
 id="x208-69100020.20.12"></a>Riemannian Connections</h4>
<a 
 id="dx208-691001"></a>
<!--l. 890--><p class="noindent" >The command <span 
class="pcrr8t-x-x-109">riemannconx </span>is provided for calculating the <a 
 id="dx208-691002"></a> <a 
 id="command:RIEMANNCONX"></a> connection 1 forms. The
values are stored on the name given to <span 
class="pcrr8t-x-x-109">riemannconx</span>. This command is far more
eﬃcient than calculating the connection from the diﬀerential of the basis one-forms and
using inner products.
<a 
 id="x208-691003r14"></a>
</p><!--l. 898--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 14</span>(Calculate the connection 1-form and curvature 2-form on S(2))
<a 
 id="dx208-691004"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1094">
   coframe e th=r*d th,e ph=r*sin(th)*d ph;

   riemannconx om;

   om(k,-l);                 %Display the connection forms;

     th
   ns      := 0
        th

     ph         ph
   ns      := (e  *cos(th))/(sin(th)*r)
        th

     th            ph
   ns      := ( - e  *cos(th))/(sin(th)*r)
        ph

     ph
   ns      := 0
        ph

   pform curv(k,l)=2;


   curv(k,-l):=d om(k,-l) + om(k,-m)^om(m-l);
                 %The curvature forms

       th
   curv      := 0
          th

       ph            th  ph   2
   curv      := ( - e  ^e  )/r
          th               %Of course it was a sphere with
                           %radius R.

       th         th  ph   2
                                                                     

                                                                     
   curv      := (e  ^e  )/r
          ph

       ph
   curv      := 0
          ph
</pre>
<!--l. 946--><p class="nopar" >
</p><!--l. 948--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.13    </span> <a 
 id="x208-69200020.20.13"></a>Killing Vectors</h4>
<a 
 id="dx208-692001"></a>
<!--l. 951--><p class="noindent" >The command <span 
class="pcrr8t-x-x-109">killing_vector </span>is provided for calculating the <a 
 id="dx208-692002"></a> <a 
 id="command:KILLING_VECTOR"></a> determining system
of partial diﬀerential equations of Killing vectors for a given metric structure
provided by the coframe statement. The result is a list where the ﬁrst entry is a
vector constructed from the identiﬁer given to the command and the second
entry consists of a list of partial diﬀerential equations for the coeﬃcients of this
vector.
<a 
 id="x208-692003r15"></a>
</p><!--l. 960--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 15</span> (Calculate the determining pde’s for a Killing vector of S(2))
<a 
 id="dx208-692004"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1095">

coframe e th = d th,e ph = sin th*d ph;

killing_vector u;


      ph        th
{@  *u   + @  *u  ,
  ph        th

       th
 {@  (u  ),
   th

       ph         2        th
  @  (u  )*sin(th)  + @  (u  ),
   th                  ph

           th        ph
  cos(th)*u   + @  (u  )*sin(th)}}
                 ph

</pre>
<!--l. 985--><p class="nopar" >
</p><!--l. 988--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.14    </span> <a 
 id="x208-69300020.20.14"></a>Ordering and Structuring</h4>
<a 
 id="dx208-693001"></a>
<a 
 id="dx208-693002"></a>
<a 
 id="dx208-693003"></a>
<!--l. 991--><p class="noindent" ><a 
 id="command:FORDER"></a> <a 
 id="command:REMFORDER"></a> The ordering of an exterior form or vector can be changed by the command <span 
class="pcrr8t-x-x-109">forder</span>. In
an expression, the ﬁrst identiﬁer or kernel in the arguments of <span 
class="pcrr8t-x-x-109">forder </span>is ordered ahead
of the second, and so on, and ordered ahead of all not appearing as arguments. This
ordering is done on the internal level and not only on output. The execution of this
                                                                     

                                                                     
statement can therefore have tremendous eﬀects on computation time and memory
requirements. <span 
class="pcrr8t-x-x-109">remforder </span>brings back standard ordering for those elements that are
listed as arguments. <a 
 id="dx208-693004"></a>
</p><!--l. 1003--><p class="noindent" >An expression can be put in a more structured form by renaming a subexpression. This is
done with the command <span 
class="pcrr8t-x-x-109">KEEP </span>which has the syntax <a 
 id="dx208-693005"></a> <a 
 id="command:KEEP"></a>
</p><!--l. 1008--><p class="noindent" >           <span 
class="ptmb8t-x-x-109">keep</span> \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span>\(_1\) \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span>\(_1\) \(&gt;\),\(&lt;\) <span 
class="ptmri8t-x-x-109">name</span>\(_2\) \(&gt;\)=\(&lt;\) <span 
class="ptmri8t-x-x-109">expression</span>\(_2\) \(&gt;\), …
</p><!--l. 1011--><p class="noindent" >The eﬀect is that rules are set up for simplifying \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span> \(&gt;\) without introducing its deﬁnition
in an expression. In an expression the system also tries by reordering to generate as many
instances of \(&lt;\) <span 
class="ptmri8t-x-x-109">name</span> \(&gt;\) as possible.
<a 
 id="x208-693006r16"></a>
</p><!--l. 1016--><p class="noindent" ><span 
class="ptmb8t-x-x-109">Example 16</span><a 
 id="dx208-693007"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1096">
     pform x=0,y=0,z=0,f=0,j=3;

     keep j=d x^d y^d z;

     j;

     j

     d j;

     0

     j^d x;

     0

     fdomain f=f(x);

     d f^d y^d z;

     @  f*j
      x
</pre>
<!--l. 1041--><p class="nopar" >
<a 
 id="dx208-693008"></a>
</p><!--l. 1044--><p class="noindent" >The capabilities of <span 
class="pcrr8t-x-x-109">keep </span>are currently very limited. Only exterior products should occur
as righthand sides in <span 
class="pcrr8t-x-x-109">keep</span>.
                                                                     

                                                                     
</p><!--l. 1048--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.15    </span> <a 
 id="x208-69400020.20.15"></a>Summary of Operators and Commands</h4>
<!--l. 1049--><p class="noindent" >Table <a 
href="manual-lookup.php%3FEXCALC:.html#x208-6940349">20.9<!--tex4ht:ref: EXCALC:sum --></a> summarizes EXCALC commands and the page number they are deﬁned on.
</p><div class="table">
                                                                     

                                                                     
<!--l. 1052--><p class="noindent" ><a 
 id="x208-6940349"></a></p><figure class="float" 
>
                                                                     

                                                                     
<div class="center" 
>
<!--l. 1053--><p class="noindent" >
</p>
<div class="tabular"> <table id="TBL-79" class="tabular" 
 
><colgroup id="TBL-79-1g"><col 
id="TBL-79-1" /><col 
id="TBL-79-2" /><col 
id="TBL-79-3" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-79-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-1-1"  
class="td11"><a 
 id="dx208-694001"></a><a 
 id="dx208-694002"></a><span 
class="pcrr8t-x-x-109">^               </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-1-2"  
class="td11">Exterior Multiplication                                      </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-1-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68200020.20.3">1736<!--tex4ht:ref: wedge --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-2-1"  
class="td11"><a 
 id="dx208-694003"></a><span 
class="pcrr8t-x-x-109">@               </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-2-2"  
class="td11">Partial Diﬀerentiation                                        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-2-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68300020.20.4">1738<!--tex4ht:ref: at --></a></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-79-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-3-1"  
class="td11"><a 
 id="dx208-694004"></a> <span 
class="pcrr8t-x-x-109">@ </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-3-2"  
class="td11">Tangent Vector </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-3-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-683004r2">1741<!--tex4ht:ref: at1 --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-4-1"  
class="td11"><a 
 id="dx208-694005"></a><span 
class="pcrr8t-x-x-109">#               </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-4-2"  
class="td11">Hodge-* Operator                                             </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-4-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68700020.20.8">1753<!--tex4ht:ref: hodge --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-5-1"  
class="td11"><a 
 id="dx208-694006"></a><span 
class="pcrr8t-x-x-109">_|              </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-5-2"  
class="td11">Inner Product                                                     </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-5-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68500020.20.6">1748<!--tex4ht:ref: innerp --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-6-1"  
class="td11"><a 
 id="dx208-694007"></a><span 
class="pcrr8t-x-x-109">|_              </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-6-2"  
class="td11">Lie Derivative                                                    </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-6-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68600020.20.7">1751<!--tex4ht:ref: lie --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-7-1"  
class="td11"><span 
class="pcrr8t-x-x-109">coframe         </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-7-2"  
class="td11">Declaration of a coframe                                   </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-7-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69000020.20.11">1763<!--tex4ht:ref: COFRAME --></a></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-79-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-8-1"  
class="td11"><a 
 id="dx208-694008"></a> <span 
class="pcrr8t-x-x-109">d </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-8-2"  
class="td11">Exterior diﬀerentiation </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-8-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68400020.20.5">1742<!--tex4ht:ref: d --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-9-1"  
class="td11"><a 
 id="dx208-694009"></a><span 
class="pcrr8t-x-x-109">displayframe    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-9-2"  
class="td11">Displays the frame                                            </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-9-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-690017r13">1768<!--tex4ht:ref: DISPLAYFRAME --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-10-1"  
class="td11"><a 
 id="dx208-694010"></a><span 
class="pcrr8t-x-x-109">eps             </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-10-2"  
class="td11">Levi-Civita tensor                                              </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-10-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-690017r13">1769<!--tex4ht:ref: EPS --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-11-1"  
class="td11"><a 
 id="dx208-694011"></a><span 
class="pcrr8t-x-x-109">exdegree        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-11-2"  
class="td11">Calculates the exterior degree of an expression</td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-11-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68100020.20.2">1735<!--tex4ht:ref: EXDEGREE --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-12-1"  
class="td11"><a 
 id="dx208-694012"></a><span 
class="pcrr8t-x-x-109">fdomain         </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-12-2"  
class="td11">Declaration of implicit dependencies                </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-12-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-683004r2">1739<!--tex4ht:ref: FDOMAIN --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-13-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-13-1"  
class="td11"><a 
 id="dx208-694013"></a><span 
class="pcrr8t-x-x-109">forder          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-13-2"  
class="td11">Ordering command                                           </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-13-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69300020.20.14">1772<!--tex4ht:ref: FORDER --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-14-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-14-1"  
class="td11"><a 
 id="dx208-694014"></a><span 
class="pcrr8t-x-x-109">frame           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-14-2"  
class="td11">Declares the frame dual to the coframe            </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-14-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-690014r12">1767<!--tex4ht:ref: FRAME --></a></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-79-15-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-15-1"  
class="td11"><a 
 id="dx208-694015"></a> <span 
class="pcrr8t-x-x-109">indexrange </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-15-2"  
class="td11">Declaration of indices </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-15-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-689007r9">1758<!--tex4ht:ref: INDEXRANGE --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-16-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-16-1"  
class="td11"><a 
 id="dx208-694016"></a><span 
class="pcrr8t-x-x-109">index_symmetries</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-16-2"  
class="td11">Declares arbitrary index symmetry properties  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-16-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-689007r9">1762<!--tex4ht:ref: INDEXSYMMETRIES --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-17-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-17-1"  
class="td11"><a 
 id="dx208-694017"></a><span 
class="pcrr8t-x-x-109">keep            </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-17-2"  
class="td11">Structuring command                                        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-17-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69300020.20.14">1773<!--tex4ht:ref: KEEP --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-18-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-18-1"  
class="td11"><a 
 id="dx208-694018"></a><span 
class="pcrr8t-x-x-109">killing_vector  </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-18-2"  
class="td11">Structuring command                                        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-18-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69200020.20.13">1771<!--tex4ht:ref: KILLING_VECTOR --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-19-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-19-1"  
class="td11"><a 
 id="dx208-694019"></a><span 
class="pcrr8t-x-x-109">metric          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-19-2"  
class="td11">Clause of COFRAME to specify a metric        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-19-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69000020.20.11">1763<!--tex4ht:ref: COFRAME --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-20-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-20-1"  
class="td11"><a 
 id="dx208-694020"></a><span 
class="pcrr8t-x-x-109">noether         </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-20-2"  
class="td11">Calculates the Noether current                          </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-20-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-688005r6">1756<!--tex4ht:ref: NOETHER --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-21-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-21-1"  
class="td11"><a 
 id="dx208-694021"></a><span 
class="pcrr8t-x-x-109">nosum           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-21-2"  
class="td11">Inhibits summation convention                         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-21-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-689007r9">1762<!--tex4ht:ref: NOSUM --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-22-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-22-1"  
class="td11"><a 
 id="dx208-694022"></a><span 
class="pcrr8t-x-x-109">noxpnd </span>d                     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-22-2"  
class="td11">Inhibits the use of product rule for d                 </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-22-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68400020.20.5">1743<!--tex4ht:ref: NOXPNDD --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-23-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-23-1"  
class="td11"><a 
 id="dx208-694023"></a><span 
class="pcrr8t-x-x-109">noxpnd @        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-23-2"  
class="td11">Inhibits expansion into partial derivatives         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-23-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68400020.20.5">1747<!--tex4ht:ref: NOXPNDA --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-24-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-24-1"  
class="td11"><a 
 id="dx208-694024"></a><span 
class="pcrr8t-x-x-109">pform           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-24-2"  
class="td11">Declaration of exterior forms                            </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-24-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68100020.20.2">1730<!--tex4ht:ref: PFORM --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-25-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-25-1"  
class="td11"><a 
 id="dx208-694025"></a><span 
class="pcrr8t-x-x-109">remforder       </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-25-2"  
class="td11">Clears ordering                                                  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-25-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69300020.20.14">1773<!--tex4ht:ref: REMFORDER --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-26-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-26-1"  
class="td11"><a 
 id="dx208-694026"></a><span 
class="pcrr8t-x-x-109">renosum         </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-26-2"  
class="td11">Enables summation convention                         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-26-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-689007r9">1762<!--tex4ht:ref: RENOSUM --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-27-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-27-1"  
class="td11"><a 
 id="dx208-694027"></a><span 
class="pcrr8t-x-x-109">riemannconx     </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-27-2"  
class="td11">Calculation of a Riemannian Connection         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-27-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69100020.20.12">1769<!--tex4ht:ref: RIEMANNCONX --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-28-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-28-1"  
class="td11"><a 
 id="dx208-694028"></a><span 
class="pcrr8t-x-x-109">signature       </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-28-2"  
class="td11">Clause of coframe to specify a pseudo-            </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-28-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-69000020.20.11">1764<!--tex4ht:ref: SIGNATURE --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-29-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-29-1"  
class="td11">                </td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-29-2"  
class="td11">Euclidean metric                                               </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-29-3"  
class="td11">   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-30-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-30-1"  
class="td11"><a 
 id="dx208-694029"></a><span 
class="pcrr8t-x-x-109">spacedim        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-30-2"  
class="td11">Command to set the dimension of a space        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-30-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-682003r1">1737<!--tex4ht:ref: SPACEDIM --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-31-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-31-1"  
class="td11"><a 
 id="dx208-694030"></a><span 
class="pcrr8t-x-x-109">tvector         </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-31-2"  
class="td11">declaration of vectors                                        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-31-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68100020.20.2">1734<!--tex4ht:ref: TVECTOR --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-32-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-32-1"  
class="td11"><a 
 id="dx208-694031"></a><span 
class="pcrr8t-x-x-109">vardf           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-32-2"  
class="td11">Variational derivative                                        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-32-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68800020.20.9">1755<!--tex4ht:ref: VARDF --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-33-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-33-1"  
class="td11"><a 
 id="dx208-694032"></a><span 
class="pcrr8t-x-x-109">xpnd d          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-33-2"  
class="td11">Enables the use of product rule for d                </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-33-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68400020.20.5">1745<!--tex4ht:ref: XPNDD --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-34-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-34-1"  
class="td11">                </td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-34-2"  
class="td11">(default)                                                             </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-34-3"  
class="td11">   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-35-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-35-1"  
class="td11"><a 
 id="dx208-694033"></a><span 
class="pcrr8t-x-x-109">xpnd @          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-35-2"  
class="td11">Enables expansion into partial derivatives        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-79-35-3"  
class="td11"><a 
href="manual-lookup.php%3FEXCALC:.html#x208-68400020.20.5">1747<!--tex4ht:ref: XPNDA --></a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-79-36-"><td  style="white-space:nowrap; text-align:left;" id="TBL-79-36-1"  
class="td11">                </td><td  style="white-space:nowrap; text-align:left;" id="TBL-79-36-2"  
class="td11">(default)                                                             </td></tr></table></div>
<figcaption class="caption" ><span class="id">Table 20.9: </span><span  
class="content">EXCALC Command Summary</span></figcaption><!--tex4ht:label?: x208-6940349 -->
</div>
                                                                     

                                                                     
</figure>
</div>
<!--l. 1132--><p class="noindent" >
                                                                     

                                                                     
</p>
<h4 class="subsectionHead"><span class="titlemark">20.20.16    </span> <a 
 id="x208-69500020.20.16"></a>Examples</h4>
<!--l. 1135--><p class="noindent" >The following examples should illustrate the use of <span 
class="ptmrc8t-x-x-109">E<span 
class="small-caps">X</span><span 
class="small-caps">C</span><span 
class="small-caps">A</span><span 
class="small-caps">L</span><span 
class="small-caps">C</span></span>. It is not intended to show
the most eﬃcient or most elegant way of stating the problems; rather the variety of
syntactic constructs are exempliﬁed. The examples are on a test ﬁle distributed with
<span 
class="ptmrc8t-x-x-109">E<span 
class="small-caps">X</span><span 
class="small-caps">C</span><span 
class="small-caps">A</span><span 
class="small-caps">L</span><span 
class="small-caps">C</span></span>. <a 
 id="dx208-695001"></a>
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1097">
% Problem: Calculate the PDE’s for the isovector of the heat equation.
% --------
%         (c.f. B.K. Harrison, f.B. Estabrook, &#x0022;Geometric Approach...&#x0022;,
%          J. Math. Phys. 12, 653, 1971)

% The heat equation @   psi = @  psi is equivalent to the set of exterior
%                    xx        t

% equations (with u=@ psi, y=@ psi):
%                    T        x


pform {psi,u,x,y,t}=0,a=1,{da,b}=2;

a := d psi - u*d t - y*d x;

da := - d u^d t - d y^d x;

b := u*d x^d t - d y^d t;


% Now calculate the PDE’s for the isovector.

tvector v;

pform {vpsi,vt,vu,vx,vy}=0;
fdomain vpsi=vpsi(psi,t,u,x,y),vt=vt(psi,t,u,x,y),vu=vu(psi,t,u,x,y),
                               vx=vx(psi,t,u,x,y),vy=vy(psi,t,u,x,y);

v := vpsi*@ psi + vt*@ t + vu*@ u + vx*@ x + vy*@ y;


factor d;
on rat;

i1 := v |_ a - l*a;

pform o=1;

o := ot*d t + ox*d x + ou*d u + oy*d y;

fdomain f=f(psi,t,u,x,y);

                                                                     

                                                                     
i11 := v _| d a - l*a + d f;

let vx=-@(f,y),vt=-@(f,u),vu=@(f,t)+u*@(f,psi),vy=@(f,x)+y*@(f,psi),
    vpsi=f-u*@(f,u)-y*@(f,y);

factor ^;

i2 := v |_ b - xi*b - o^a + zeta*da;

let ou=0,oy=@(f,u,psi),ox=-u*@(f,u,psi),
    ot=@(f,x,psi)+u*@(f,y,psi)+y*@(f,psi,psi);

i2;

let zeta=-@(f,u,x)-@(f,u,y)*u-@(f,u,psi)*y;

i2;

let xi=-@(f,t,u)-u*@(f,u,psi)+@(f,x,y)+u*@(f,y,y)+y*@(f,y,psi)+@(f,psi);

i2;

let @(f,u,u)=0;

i2;      % These PDE’s have to be solved.


clear a,da,b,v,i1,i11,o,i2,xi,t;
remfdomain f,vpsi,vt,vu,vx,vy;
clear @(f,u,u);


% Problem:
% --------
% Calculate the integrability conditions for the system of PDE’s:
% (c.f. B.F. Schutz, &#x0022;Geometrical Methods of Mathematical Physics&#x0022;
% Cambridge University Press, 1984, p. 156)


% @ z /@ x + a1*z  + b1*z  = c1
%    1           1       2

% @ z /@ y + a2*z  + b2*z  = c2
%    1           1       2

% @ z /@ x + f1*z  + g1*z  = h1
%    2           1       2

% @ z /@ y + f2*z  + g2*z  = h2
                                                                     

                                                                     
%    2           1       2      ;


pform w(k)=1,integ(k)=4,{z(k),x,y}=0,{a,b,c,f,g,h}=1,
      {a1,a2,b1,b2,c1,c2,f1,f2,g1,g2,h1,h2}=0;

fdomain  a1=a1(x,y),a2=a2(x,y),b1=b1(x,y),b2=b2(x,y),
         c1=c1(x,y),c2=c2(x,y),f1=f1(x,y),f2=f2(x,y),
         g1=g1(x,y),g2=g2(x,y),h1=h1(x,y),h2=h2(x,y);


a:=a1*d x+a2*d y$
b:=b1*d x+b2*d y$
c:=c1*d x+c2*d y$
f:=f1*d x+f2*d y$
g:=g1*d x+g2*d y$
h:=h1*d x+h2*d y$

% The equivalent exterior system:
factor d;
w(1) := d z(-1) + z(-1)*a + z(-2)*b - c;
w(2) := d z(-2) + z(-1)*f + z(-2)*g - h;
indexrange 1,2;
factor z;
% The integrability conditions:

integ(k) := d w(k) ^ w(1) ^ w(2);

clear a,b,c,f,g,h,x,y,w(k),integ(k),z(k);
remfdomain a1,a2,b1,c1,c2,f1,f2,g1,g2,h1,h2;

% Problem:
% --------
% Calculate the PDE’s for the generators of the d-theta symmetries of
% the Lagrangian system of the planar Kepler problem.
% c.f. W.Sarlet, F.Cantrijn, Siam Review 23, 467, 1981
% Verify that time translation is a d-theta symmetry and calculate the
% corresponding integral.

pform {t,q(k),v(k),lam(k),tau,xi(k),eta(k)}=0,theta=1,f=0,
      {l,glq(k),glv(k),glt}=0;

tvector gam,y;

indexrange 1,2;

fdomain tau=tau(t,q(k),v(k)),xi=xi(t,q(k),v(k)),f=f(t,q(k),v(k));

l := 1/2*(v(1)**2 + v(2)**2) + m/r$      % The Lagrangian.
                                                                     

                                                                     

pform r=0;
fdomain r=r(q(k));
let @(r,q 1)=q(1)/r,@(r,q 2)=q(2)/r,q(1)**2+q(2)**2=r**2;

lam(k) := -m*q(k)/r;                                % The force.

gam := @ t + v(k)*@(q(k)) + lam(k)*@(v(k))$

eta(k) := gam _| d xi(k) - v(k)*gam _| d tau$

y  := tau*@ t + xi(k)*@(q(k)) + eta(k)*@(v(k))$     % Symmetry generator.

theta := l*d t + @(l,v(k))*(d q(k) - v(k)*d t)$

factor @;

s := y |_ theta - d f$

glq(k) := @(q k) _| s;
glv(k) := @(v k) _| s;
glt := @(t) _| s;

% Translation in time must generate a symmetry.
xi(k) := 0;
tau := 1;

glq k := glq k;
glv k := glv k;
glt;

% The corresponding integral is of course the energy.
integ := - y _| theta;


clear l,lam k,gam,eta k,y,theta,s,glq k,glv k,glt,t,q k,v k,tau,xi k;
remfdomain r,f,tau,xi;

% Problem:
% --------
% Calculate the &#x0022;gradient&#x0022; and &#x0022;Laplacian&#x0022; of a function and the &#x0022;curl&#x0022;
% and &#x0022;divergence&#x0022; of a one-form in elliptic coordinates.


coframe e u = sqrt(cosh(v)**2 - sin(u)**2)*d u,
        e v = sqrt(cosh(v)**2 - sin(u)**2)*d v,
        e phi = cos u*sinh v*d phi;

pform f=0;
                                                                     

                                                                     

fdomain f=f(u,v,phi);

factor e,^;
on rat,gcd;
order cosh v, sin u;
% The gradient:
d f;

factor @;
% The Laplacian:
# d # d f;

% Another way of calculating the Laplacian:
-#vardf(1/2*d f^#d f,f);

remfac @;

% Now calculate the &#x0022;curl&#x0022; and the &#x0022;divergence&#x0022; of a one-form.

pform w=1,a(k)=0;

fdomain a=a(u,v,phi);

w := a(-k)*e k;
% The curl:
x := # d w;

factor @;
% The divergence:
y := # d # w;


remfac @;
clear x,y,w,u,v,phi,e k,a k;
remfdomain a,f;


% Problem:
% --------
% Calculate in a spherical coordinate system the Navier Stokes equations.

coframe e r=d r, e theta =r*d theta, e phi = r*sin theta *d phi;
frame x;

fdomain v=v(t,r,theta,phi),p=p(r,theta,phi);

pform v(k)=0,p=0,w=1;

                                                                     

                                                                     
% We first calculate the convective derivative.

w := v(-k)*e(k)$

factor e; on rat;

cdv := @(w,t) + (v(k)*x(-k)) |_ w - 1/2*d(v(k)*v(-k));

%next we calculate the viscous terms;

visc := nu*(d#d# w - #d#d w) + mu*d#d# w;

% Finally we add the pressure term and print the components of the
% whole equation.

pform nasteq=1,nast(k)=0;

nasteq := cdv - visc + 1/rho*d p$

factor @;

nast(-k) := x(-k) _| nasteq;

remfac @,e;

clear v k,x k,nast k,cdv,visc,p,w,nasteq,e k;
remfdomain p,v;


% Problem:
% --------
% Calculate from the Lagrangian of a vibrating rod the equation of
% motion and show that the invariance under time translation leads
% to a conserved current.

pform {y,x,t,q,j}=0,lagr=2;

fdomain y=y(x,t),q=q(x),j=j(x);

factor ^;

lagr := 1/2*(rho*q*@(y,t)**2 - e*j*@(y,x,x)**2)*d x^d t;

vardf(lagr,y);

% The Lagrangian does not explicitly depend on time; therefore the
% vector field @ t generates a symmetry. The conserved current is

pform c=1;
                                                                     

                                                                     
factor d;

c := noether(lagr,y,@ t);

% The exterior derivative of this must be zero or a multiple of the
% equation of motion (weak conservation law) to be a conserved current.

remfac d;

d c;

% i.e. it is a multiple of the equation of motion.

clear lagr,c,j,y,q;
remfdomain y,q,j;

% Problem:
% --------
% Show that the metric structure given by Eguchi and Hanson induces a
% self-dual curvature.
% c.f. T. Eguchi, P.B. Gilkey, A.J. Hanson, &#x0022;Gravitation, Gauge Theories
% and Differential Geometry&#x0022;, Physics Reports 66, 213, 1980

for all x let cos(x)**2=1-sin(x)**2;

pform f=0,g=0;
fdomain f=f(r), g=g(r);

coframe   o(r) = f*d r,
      o(theta) = (r/2)*(sin(psi)*d theta - sin(theta)*cos(psi)*d phi),
        o(phi) = (r/2)*(-cos(psi)*d theta - sin(theta)*sin(psi)*d phi),
        o(psi) = (r/2)*g*(d psi + cos(theta)*d phi);

frame e;


pform gamma(a,b)=1,curv2(a,b)=2;
index_symmetries gamma(a,b),curv2(a,b): antisymmetric;

factor o;

gamma(-a,-b) := -(1/2)*( e(-a) _| (e(-c) _| (d o(-b)))
        -e(-b) _| (e(-a) _| (d o(-c)))
        +e(-c) _| (e(-b) _| (d o(-a))) )*o(c)$


curv2(-a,b) := d gamma(-a,b) + gamma(-c,b)^gamma(-a,c)$

let f=1/g,g=sqrt(1-(a/r)**4);
                                                                     

                                                                     

pform chck(k,l)=2;
index_symmetries chck(k,l): antisymmetric;

% The following has to be zero for a self-dual curvature.

chck(k,l) := 1/2*eps(k,l,m,n)*curv2(-m,-n) + curv2(k,l);

clear gamma(a,b),curv2(a,b),f,g,chck(a,b),o(k),e(k),r,phi,psi;
remfdomain f,g;

% Example: 6-dimensional FRW model with quadratic curvature terms in
% -------
% the Lagrangian (Lanczos and Gauss-Bonnet terms).
% cf. Henriques, Nuclear Physics, B277, 621 (1986)

for all x let cos(x)**2+sin(x)**2=1;

pform {r,s}=0;
fdomain r=r(t),s=s(t);

coframe o(t) = d t,
        o(1) = r*d u/(1 + k*(u**2)/4),
        o(2) = r*u*d theta/(1 + k*(u**2)/4),
        o(3) = r*u*sin(theta)*d phi/(1 + k*(u**2)/4),
        o(4) = s*d v1,
        o(5) = s*sin(v1)*d v2
 with metric g =-o(t)*o(t)+o(1)*o(1)+o(2)*o(2)+o(3)*o(3)
                +o(4)*o(4)+o(5)*o(5);

frame e;

on nero; factor o,^;

riemannconx om;

pform curv(k,l)=2,{riemann(a,b,c,d),ricci(a,b),riccisc}=0;

index_symmetries curv(k,l): antisymmetric,
                 riemann(k,l,m,n): antisymmetric in {k,l},{m,n}
                                   symmetric in {{k,l},{m,n}},
                 ricci(k,l): symmetric;

curv(k,l) := d om(k,l) + om(k,-m)^om(m,l);

riemann(a,b,c,d) := e(d) _| (e (c) _| curv(a,b));

% The rest is done in the Ricci calculus language,

                                                                     

                                                                     
ricci(-a,-b) := riemann(c,-a,-d,-b)*g(-c,d);

riccisc := ricci(-a,-b)*g(a,b);

pform {laglanc,inv1,inv2} = 0;

index_symmetries riemc3(k,l),riemri(k,l),
                 hlang(k,l),einst(k,l): symmetric;

pform {riemc3(i,j),riemri(i,j)}=0;

riemc3(-i,-j) := riemann(-i,-k,-l,-m)*riemann(-j,k,l,m)$
inv1 := riemc3(-i,-j)*g(i,j);
riemri(-i,-j) := 2*riemann(-i,-k,-j,-l)*ricci(k,l)$
inv2 := ricci(-a,-b)*ricci(a,b);
laglanc := (1/2)*(inv1 - 4*inv2 + riccisc**2);


pform {einst(a,b),hlang(a,b)}=0;

hlang(-i,-j) := 2*(riemc3(-i,-j) - riemri(-i,-j) -
   2*ricci(-i,-k)*ricci(-j,K) +
   riccisc*ricci(-i,-j) - (1/2)*laglanc*g(-i,-j));

% The complete Einstein tensor:

einst(-i,-j) := (ricci(-i,-j) - (1/2)*riccisc*g(-i,-j))*alp1 +
hlang(-i,-j)*alp2$

alp1 := 1$
factor alp2;

einst(-i,-j) := einst(-i,-j);

clear o(k),e(k),riemc3(i,j),riemri(i,j),curv(k,l),riemann(a,b,c,d),
      ricci(a,b),riccisc,t,u,v1,v2,theta,phi,r,om(k,l),einst(a,b),
      hlang(a,b);

remfdomain r,s;

% Problem:
% --------
% Calculate for a given coframe and given torsion the Riemannian part and
% the torsion induced part of the connection. Calculate the curvature.

% For a more elaborate example see E.Schruefer, F.W. Hehl, J.D. McCrea,
% &#x0022;Application of the REDUCE package EXCALC to the Poincare gauge field
% theory of gravity&#x0022;, GRG Journal, vol. 19, (1988)  197--218

                                                                     

                                                                     
pform {ff, gg}=0;

fdomain ff=ff(r), gg=gg(r);

coframe o(4) = d u + 2*b0*cos(theta)*d phi,
        o(1) = ff*(d u + 2*b0*cos(theta)*d phi) + d r,
        o(2) = gg*d theta,
        o(3) = gg*sin(theta)*d phi
 with metric g = -o(4)*o(1)-o(4)*o(1)+o(2)*o(2)+o(3)*o(3);

frame e;

pform {tor(a),gwt(a)}=2,gamma(a,b)=1,
      {u1,u3,u5}=0;

index_symmetries gamma(a,b): antisymmetric;

fdomain u1=u1(r),u3=u3(r),u5=u5(r);

tor(4) := 0$

tor(1) := -u5*o(4)^o(1) - 2*u3*o(2)^o(3)$

tor(2) := u1*o(4)^o(2) + u3*o(4)^o(3)$

tor(3) := u1*o(4)^o(3) - u3*o(4)^o(2)$

gwt(-a) := d o(-a) - tor(-a)$

% The following is the combined connection.
% The Riemannian part could have equally well been calculated by the
% RIEMANNCONX statement.

gamma(-a,-b) := (1/2)*( e(-b) _| (e(-c) _| gwt(-a))
               +e(-c) _| (e(-a) _| gwt(-b))
                       -e(-a) _| (e(-b) _| gwt(-c)) )*o(c);

pform curv(a,b)=2;
index_symmetries curv(a,b): antisymmetric;
factor ^;

curv(-a,b) := d gamma(-a,b) + gamma(-c,b)^gamma(-a,c);

clear o(k),e(k),curv(a,b),gamma(a,b),theta,phi,x,y,z,r,s,t,u,v,p,q,c,cs;
remfdomain u1,u3,u5,ff,gg;

showtime;
end;
</pre>
                                                                     

                                                                     
<!--l. 1625--><p class="nopar" >
</p><!--l. 425--><p class="noindent" >
                                                                     

                                                                     
                                                                     

                                                                     
</p><!--l. 427--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="manual-lookup.php%3FUser&#32;Contributed&#32;Packages.html#manualse143.html" >Up</a></td><td class="clinks"><a 
href="manual/manualse144.html" >Next</a></td><td class="clinks"><a 
href="manual/manualse142.html" >Prev</a></td><td class="clinks"><a 
href="manual/manualse142.html#tailmanualse142.html" >PrevTail</a></td><td class="clinks"><a 
href="manual-lookup.php%3FEXCALC:.html" >Front</a></td></tr></table><a 
 id="tailmanualse143.html"></a>  <hr> <p style="font-family:sans-serif">Hosted by <a href="https://sourceforge.net/p/reduce-algebra/"> <img title="Download REDUCE" alt="Download REDUCE" style="vertical-align:middle" src="https://sourceforge.net/sflogo.php?type=16&amp;group_id=248416"/></a> <a href="https://www.mathjax.org"> <img title="Powered by MathJax" alt="Powered by MathJax" style="float:right" src="https://www.mathjax.org/badge/badge.gif"/></a></p></p> 
</body> 
</html>