<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Algebraic evaluator: reval, aeval, aeval*</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="primer.tex"> 
<meta name="date" content="2014-05-02 18:12:00"> 
<link rel="stylesheet" type="text/css" href="primer.css"> 
</head><body 
>
   <table cellspacing="5"><tr><td class="clinks"><a 
href="primerse3.html#primersu16.html" >Up</a></td><td class="clinks"><a 
href="primersu15.html" >Prev</a></td><td class="clinks"><a 
href="primersu15.html#tailprimersu15.html" >PrevTail</a></td><td class="clinks"><a 
href="primersu16.html#tailprimersu16.html">Tail</a></td></tr></table><h4 class="subsectionHead"><span class="titlemark">3.4   </span> <a 
 id="x27-220003.4"></a>Algebraic evaluator: reval, aeval, aeval*</h4>
<!--l. 1117--><p class="noindent" >The main entries to the algebraic evaluator are the symbolic mode functions
<span 
class="cmtt-10x-x-109">reval</span><a 
 id="dx27-22001"></a> and <span 
class="cmtt-10x-x-109">aeval</span><a 
 id="dx27-22002"></a>. Both have as input an algebraic expression and return the fully
evaluated result. Reval always returns an algebraic form in full prefix operator
form, while aeval tries to keep the result in <span 
class="cmsy-10x-x-109">*</span><span 
class="cmmi-10x-x-109">SQ</span>-form whenever possible. Almost
all algebraic functionality of <span 
class="cmr-10">REDUCE </span>can be invoked by calling these procedures,
e.g.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-34">
&#x00A0;&#x00A0;reval&#x00A0;&#8217;(solve&#x00A0;(plus&#x00A0;(expt&#x00A0;x&#x00A0;2)&#x00A0;3)&#x00A0;x);
</div>
<!--l. 1129--><p class="nopar" >
<!--l. 1131--><p class="indent" >   If you turn on the switch <span 
class="cmtt-10x-x-109">defn </span>in algebraic mode you will see that <span 
class="cmr-10">REDUCE</span>
translates most statements into calls for <span 
class="cmtt-10x-x-109">aeval</span>.
<!--l. 1135--><p class="indent" >   Reval and aeval are also adequate tools for accessing the values of algebraic
quantities and for evaluation of unevaluated procedure parameters; they do the
complete job for you.
<!--l. 1140--><p class="indent" >   However, there is one exception: the left-hand side of an equation in general is
not evaluated by <span 
class="cmtt-10x-x-109">reval </span>and <span 
class="cmtt-10x-x-109">aeval</span>. E.g.&#x00A0;
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-35">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;l:=&#x00A0;a=b;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;a:=17;b:=4;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;symbolic&#x00A0;reval&#x00A0;&#8217;l;
</div>
<!--l. 1148--><p class="nopar" > produces the output (<span 
class="cmmi-10x-x-109">EQUAL A </span>4). If you write a program for
equations you either should evaluate the left-hand sides yourself
by calling <span 
class="cmtt-10x-x-109">reval </span>or rebind the internal switch <span 
class="cmtt-10x-x-109">*evallhseqp</span><a 
 id="dx27-22003"></a>
<span class="footnote-mark"><a 
href="primer28.html#fn8x0"><sup class="textsuperscript">8</sup></a></span><a 
 id="x27-22004f8"></a>
locally(!) by <span 
class="cmmi-10x-x-109">t </span>- then <span 
class="cmr-10">REDUCE </span>will evaluate both sides of an equation.
<!--l. 1158--><p class="indent" >   <span 
class="cmr-10">REDUCE </span>maintains an internal buffer <span 
class="cmtt-10x-x-109">alglist*</span><a 
 id="dx27-22005"></a> where all
evaluation results are stored such that a repeated request for
the same evaluation can be satisfied by a simple and fast table
lookup<span class="footnote-mark"><a 
href="primer29.html#fn9x0"><sup class="textsuperscript">9</sup></a></span><a 
 id="x27-22006f9"></a> .
As a side effect, <span 
class="cmtt-10x-x-109">aeval </span>resets <span 
class="cmtt-10x-x-109">alglist* </span>empty before starting a
computation<span class="footnote-mark"><a 
href="primer30.html#fn10x0"><sup class="textsuperscript">10</sup></a></span><a 
 id="x27-22009f10"></a> .
There is a second function <span 
class="cmtt-10x-x-109">aeval*</span><a 
 id="dx27-22010"></a>: this function performs the same operation,
but in contrast to <span 
class="cmtt-10x-x-109">aeval </span>it does not reset <span 
class="cmtt-10x-x-109">alglist* </span>and can profit from previous
results. The <span 
class="cmr-10">REDUCE </span>uses both, <span 
class="cmtt-10x-x-109">aeval </span>and <span 
class="cmtt-10x-x-109">aeval* </span>depending of the
specific environment of a translated statement. <table cellspacing="5"><tr><td class="clinks"><a 
href="primerse3.html#primersu16.html" >Up</a></td><td class="clinks"><a 
href="primersu15.html" >Prev</a></td><td class="clinks"><a 
href="primersu15.html#tailprimersu15.html" >PrevTail</a></td><td class="clinks"><a 
href="primersu16.html" >Front</a></td></tr></table><a 
 id="tailprimersu16.html"></a>
 
</body></html> 
