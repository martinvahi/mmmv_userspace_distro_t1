<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Garbage Collection</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="http://www.reduce-algebra.com/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li15.html#allman1se74.html" >Up</a></td><td class="clinks"><a 
href="allman1se73.html" >Prev</a></td><td class="clinks"><a 
href="allman1se73.html#tailallman1se73.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se74.html#tailallman1se74.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">16.5    </span> <a 
 id="x92-17700016.5"></a>Garbage Collection</h3>
<!--l. 116--><p class="noindent" ><div class="minipage"><a 
 id="dx92-177001"></a>
<span 
class="ptmb7t-x-x-120">(reclaim): nil                                                                                                                 </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Reclaim is the user level call to the garbage collector. Active data in the
heap is made contiguous and all tagged pointers into the heap from active
local stack frames, the binding stack and the symbol table are relocated. If
*gc is t, prints some statistics. Increments gcknt* and updates gctime*.</div>
</div>
<!--l. 119--><p class="noindent" ><div class="minipage"><a 
 id="dx92-177002"></a>
<span 
class="ptmb7t-x-x-120">(known-free-space): integer                                                                                        </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns the number of items available in the heap.
</div></div>
<!--l. 123--><p class="noindent" ><div class="minipage"><a 
 id="dx92-177003"></a>
<span 
class="ptmb7t-x-x-120">(free-bps): integer                                                                                                        </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns the number of items available in the BPS (Binary Program Space).
</div></div>
<!--l. 131--><p class="noindent" ><div class="minipage"><a 
 id="dx92-177004"></a>
<span 
class="ptmb7t-x-x-120">*gc </span>= [Initially: t]                                                                                                        <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage"><a 
 id="dx92-177005"></a>
*Gc controls the printing of garbage collector messages. If nil no indication
of garbage collection occurs. If non-nil various messages will be displayed.</div>
</div>

<div class="verbatim" id="verbatim-364">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(reclaim)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x22C6;&#x22C6;&#x22C6;&#x00A0;Gargabe&#x00A0;collection&#x00A0;starting
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x22C6;&#x22C6;&#x22C6;&#x00A0;GC&#x00A0;1:&#x00A0;&#x00A0;8-Nov-97&#x00A0;15:49:54,&#x00A0;50&#x00A0;ms&#x00A0;(50&#x00A0;%),&#x00A0;218&#x00A0;recovered,&#x00A0;260679&#x00A0;free
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;nil
</div>
<!--l. 138--><p class="nopar" >As the example shows, the amount of time (in milliseconds), required to do the garbage
collection, the number of items recovered, and the number of items available in the heap are
displayed. The first number which follows GC represents the value of gcknt*. The inclusion of
the date into the message has been found useful for calculations which take extremely
long.
<!--l. 152--><p class="noindent" ><div class="minipage"><a 
 id="dx92-177006"></a>
<span 
class="ptmb7t-x-x-120">gctime* </span>= [Initially: 0]                                                                                               <span 
class="ptmri7t-x-x-120">global</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">The  total  time  (in  milliseconds)  spent  in  garbage  collection.  When  the
garbage  collector  is  invoked,  the  time  spent  performing  the  collection  is
added to the value of gctime*</div>
</div>
<!--l. 158--><p class="noindent" ><div class="minipage"><a 
 id="dx92-177007"></a>
<span 
class="ptmb7t-x-x-120">gcknt* </span>= [Initially: 0]                                                                                                 <span 
class="ptmri7t-x-x-120">global</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">Records the number of times that the garbage collector has been invoked.
Gcknt*  may  be  reset  to  another  value  to  record  counts  incrementally,  as
desired.</div></div>

<table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li15.html#allman1se74.html" >Up</a></td><td class="clinks"><a 
href="allman1se73.html" >Prev</a></td><td class="clinks"><a 
href="allman1se73.html#tailallman1se73.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se74.html" >Front</a></td></tr></table><a 
 id="tailallman1se74.html"></a>  
</body></html> 
