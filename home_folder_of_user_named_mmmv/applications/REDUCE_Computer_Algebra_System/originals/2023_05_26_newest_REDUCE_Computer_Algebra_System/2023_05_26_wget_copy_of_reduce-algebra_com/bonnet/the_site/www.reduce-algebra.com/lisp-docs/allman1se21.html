<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Introduction</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="http://www.reduce-algebra.com/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li6.html#allman1se21.html" >Up</a></td><td class="clinks"><a 
href="allman1se22.html" >Next</a></td><td class="clinks"><a 
href="allman1se21.html#tailallman1se21.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">7.1    </span> <a 
 id="x30-760007.1"></a>Introduction</h3>
<!--l. 5--><p class="noindent" >In a PSL program the flow of control is described primarily by function application. A function
may call any number of other functions, including itself. This allows complex operations to be
described by a number of small functions, each of which implements a simple operation. In
addition, PSL provides a number of other control constructs.
<!--l. 12--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">7.1.1    </span> <a 
 id="x30-770007.1.1"></a>Conditionals</h4>
<!--l. 14--><p class="noindent" >
<h5 class="subsubsectionHead"><a 
 id="x30-780007.1.1"></a>Conds and Ifs</h5>
<!--l. 17--><p class="noindent" ><div class="minipage"><a 
 id="dx30-78001"></a>
<span 
class="ptmb7t-x-x-120">(cond [U:form-list]): any                                                                   </span><span 
class="ptmri7t-x-x-120">open-compiled fexpr</span>
<br 
class="newline" /><div class="minipage"><br 
class="newline" /></div></div>
<!--l. 19--><p class="noindent" >A typical application of cond is shown below, the square brackets are used to indicate zero of
more occurances of an expression. <br 
class="newline" />

<div class="verbatim" id="verbatim-150">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(COND&#x00A0;([(&#x003C;predicate&#x003E;&#x00A0;[&#x003C;action&#x003E;])]))
</div>
<!--l. 26--><p class="nopar" >The first form in each clause is treated as a predicate; the remaining (zero or more) forms are
treated as if they were enclosed within a progn. The evaluation proceeds by sequentially
evaluating the predicates in the order of their appearance until one evaluates to a non-nil value.
Then the remaining forms in this clause are evaluated and the value of the last form is returned
as the result. If only the predicate appears, then its value (if non-nil) becomes the value returned.
If no predicate is non-nil then the result is nil. The following definition demonstrates the use of
cond.<br 
class="newline" />

<div class="verbatim" id="verbatim-151">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(de&#x00A0;size&#x00A0;(data)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(cond&#x00A0;((pairp&#x00A0;data)&#x00A0;(length&#x00A0;data))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;((stringp&#x00A0;data)&#x00A0;(string-length&#x00A0;data))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;((vectorp&#x00A0;data)&#x00A0;(vector-size&#x00A0;data))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(t&#x00A0;'unknown)))
</div>
<!--l. 45--><p class="nopar" >This function will compute the length of lists strings and vectors.
<!--l. 50--><p class="noindent" >The following macros are defined in the USEFUL module.
<!--l. 58--><p class="noindent" ><div class="minipage"><a 
 id="dx30-78002"></a>
<span 
class="ptmb7t-x-x-120">(if E:form S0:form [S:form]): any                                                                           </span><span 
class="ptmri7t-x-x-120">macro</span>
<br 
class="newline" /><div class="minipage">The form S0 is evaluated if the test E is non-nil, otherwise the remaining
forms  S  are  evaluated,  the  value  of  the  last  is  returned.  If  is  a  macro  to
simplify the writing of a common form of cond in which there are only two
clauses and the antecedent of the second is t.</div></div>
<!--l. 60--><p class="noindent" >The expression

<div class="verbatim" id="verbatim-152">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(if&#x00A0;(minusp&#x00A0;number)&#x00A0;'negative&#x00A0;'positive)
</div>
<!--l. 63--><p class="nopar" >is preferred over

<div class="verbatim" id="verbatim-153">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(cond&#x00A0;((minusp&#x00A0;number)&#x00A0;'negative)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(t&#x00A0;'positive))
</div>
<!--l. 68--><p class="nopar" >Notice that a single form is evaluated when the test expression E is non-nil but there may be any
number of expressions evaluated when the value of E is nil.
<!--l. 73--><p class="noindent" >Related macros for common cond forms are when and unless.
<!--l. 80--><p class="noindent" ><div class="minipage"><a 
 id="dx30-78003"></a>
<span 
class="ptmb7t-x-x-120">(when E:form [S:form]): any                                                                                   </span><span 
class="ptmri7t-x-x-120">macro</span>
<br 
class="newline" /><div class="minipage">When the value of the test expression E is non-nil the forms S are evaluated.
The value of the last form is returned as the result. The result is nil if the test
expresson E is nil.</div>
</div>
<!--l. 84--><p class="noindent" ><div class="minipage"><a 
 id="dx30-78004"></a>
<span 
class="ptmb7t-x-x-120">(unless E:form [U:form]): any                                                                                 </span><span 
class="ptmri7t-x-x-120">macro</span>
<br 
class="newline" /><div class="minipage">If the value of E is nil then the forms S are evaluated. The result is nil if the
test expression E is non-nil.</div>
</div>The boolean functions and and or (see Chapter 2), may be used as conditional forms. For
example an expression like

<div class="verbatim" id="verbatim-154">
&#x00A0;<br />(and&#x00A0;(pairp&#x00A0;x)&#x00A0;(eq&#x00A0;(car&#x00A0;x)&#x00A0;'a))
&#x00A0;<br />
</div>
<!--l. 91--><p class="nopar" >which relies upon the order of the evaluation of the arguments is often used. If and had
evaluated the second argument first an error may have been generated. However, the arguments
are always evaluated from left to right. Or may be used to retrieve a value as in the function
definition below.

<div class="verbatim" id="verbatim-155">
(de&#x00A0;dispatch&#x00A0;(data&#x00A0;arguments)
&#x00A0;<br />(apply&#x00A0;(or&#x00A0;(get&#x00A0;data&#x00A0;'function)&#x00A0;default-function)
&#x00A0;<br />arguments))
</div>
<!--l. 101--><p class="nopar" >In this example the function which is applied is either found on the property list of the data or it
is a default. In reading such an expression one considers an argument to be preferred over
anything which follows it. Note that the use of these functions as conditionals may yield code
which is confusing. For example the code

<div class="verbatim" id="verbatim-156">
&#x00A0;<br />(setq&#x00A0;x&#x00A0;(and&#x00A0;y&#x00A0;3))
&#x00A0;<br />
</div>
<!--l. 112--><p class="nopar" >will set x to 3 if y is bound to a value other than nil, otherwise x will be set to nil. It is
recommended that the following be used instead.

<div class="verbatim" id="verbatim-157">
(setq&#x00A0;x&#x00A0;(if&#x00A0;y&#x00A0;3&#x00A0;nil))
</div>
<!--l. 118--><p class="nopar" >The following version of if is defined in the module <span 
class="ptmb7t-x-x-120">if</span>. It is upward compatible with the if
macro defined above. This version will accept the keywords then, else, and elseif. If a keyword
appears immediately after the conditional expression of the if then the expression is taken to be
in keyword form.
<!--l. 128--><p class="noindent" ><div class="minipage"><a 
 id="dx30-78005"></a>
<span 
class="ptmb7t-x-x-120">(if </span><span 
class="cmmi-12">&#x003C;</span><span 
class="ptmb7t-x-x-120">expr</span><span 
class="cmmi-12">&#x003E; </span><span 
class="ptmb7t-x-x-120">[then </span><span 
class="cmmi-12">&#x003C;</span><span 
class="ptmb7t-x-x-120">expr</span><span 
class="cmmi-12">&#x003E; </span><span 
class="ptmb7t-x-x-120">... ][</span><span 
class="cmmi-12">&#x003C;</span><span 
class="ptmb7t-x-x-120">elseif-part</span><span 
class="cmmi-12">&#x003E; </span><span 
class="ptmb7t-x-x-120">... ][else </span><span 
class="cmmi-12">&#x003C;</span><span 
class="ptmb7t-x-x-120">expr</span><span 
class="cmmi-12">&#x003E; </span><span 
class="ptmb7t-x-x-120">... ]):</span><br 
class="newline" /><span 
class="ptmb7t-x-x-120">any                                                                                                                                 </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">
</div>
</div>This is not the same notation used generally in the PSL manual. Square brackets enclose parts
optionally present. The ellipses indicate arbitrary additional repetitions of the thing appearing
just before them. The elseif-part may be one of two forms.<br 
class="newline" /><span 
class="cmmi-12">&#x003C;</span>elseif-part<span 
class="cmmi-12">&#x003E; </span>= else if <span 
class="cmmi-12">&#x003C;</span>expr<span 
class="cmmi-12">&#x003E; </span>[then <span 
class="cmmi-12">&#x003C;</span>expr<span 
class="cmmi-12">&#x003E; </span>... ]<br 
class="newline" /><span 
class="cmmi-12">&#x003C;</span>elseif-part<span 
class="cmmi-12">&#x003E; </span>= else if <span 
class="cmmi-12">&#x003C;</span>expr<span 
class="cmmi-12">&#x003E; </span>[then <span 
class="cmmi-12">&#x003C;</span>expr<span 
class="cmmi-12">&#x003E; </span>... ]

<!--l. 138--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li6.html#allman1se21.html" >Up</a></td><td class="clinks"><a 
href="allman1se22.html" >Next</a></td><td class="clinks"><a 
href="allman1se21.html" >Front</a></td></tr></table><a 
 id="tailallman1se21.html"></a>    
</body></html> 
