<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Identifiers and the Id Hash Table</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li3.html#allman1se9.html" >Up</a></td><td class="clinks"><a 
href="allman1se10.html" >Next</a></td><td class="clinks"><a 
href="allman1se8.html" >Prev</a></td><td class="clinks"><a 
href="allman1se8.html#tailallman1se8.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se9.html#tailallman1se9.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">4.2    </span> <a 
 id="x15-330004.2"></a>Identifiers and the Id Hash Table</h3>
<!--l. 127--><p class="noindent" >The method used by PSL to retrieve information about an id makes use of a symbol table. PSL
uses a technique called hashing to implement this table (id hash table is another name for the
symbol table).<br 
class="newline" />
<!--l. 132--><p class="noindent" >The process of putting an id into the symbol table is called interning. The PSL reader interns ids
as they are read. Consider what happens after the name of an id is read. The symbol table is
examined to see if it contains an identifier with the same name. If there is a match then a
reference to the matching id is returned. Otherwise, a new id is created, it is added to the symbol
table, and a reference to it is returned.
<!--l. 141--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.1    </span> <a 
 id="x15-340004.2.1"></a>Identifier Functions</h4>
<!--l. 143--><p class="noindent" >The following functions deal with identifiers and the symbol table.
<!--l. 152--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34001"></a>
<span 
class="ptmb7t-x-x-120">(gensym): id                                                                                                                  </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">An id is created which is not interned. Since it is not interned it is not eq
to any other id. The id is derived from a string of the form &#8221;G0000&#8221;. The
numeric suffix is incremented upon each call to gensym.</div>
</div>
<!--l. 156--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34002"></a>
<span 
class="ptmb7t-x-x-120">(interngensym): id                                                                                                        </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Similar to gensym but returns an interned id.
</div></div>
<!--l. 161--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34003"></a>
<span 
class="ptmb7t-x-x-120">(stringgensym string):                                                                                                 </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Similar to gensym but returns a string of the form &#8221;L0000&#8221; instead of an
id.</div></div>

<!--l. 169--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34004"></a>
<span 
class="ptmb7t-x-x-120">(remob U:id): id                                                                                                           </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">If U has been interned in the symbol table then it is removed. The values
associated with U will not be affected. U is returned. It is not possible to
remove from the symbol table an identifier whose name consists of a single
character.</div></div>

<div class="verbatim" id="verbatim-63">
1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;what&#x00A0;(intern&#x00A0;"THIS"))
&#x00A0;<br />THIS
&#x00A0;<br />2&#x00A0;lisp&#x003E;&#x00A0;(set&#x00A0;what&#x00A0;"SOMETHING")
&#x00A0;<br />"SOMETHING"
&#x00A0;<br />3&#x00A0;lisp&#x003E;&#x00A0;&#x00A0;%&#x00A0;Remove&#x00A0;the&#x00A0;id&#x00A0;whose&#x00A0;name&#x00A0;is&#x00A0;"THIS".
&#x00A0;<br />3&#x00A0;lisp&#x003E;&#x00A0;(remob&#x00A0;what)
&#x00A0;<br />THIS
&#x00A0;<br />4&#x00A0;lisp&#x003E;&#x00A0;&#x00A0;%&#x00A0;Although&#x00A0;the&#x00A0;id&#x00A0;whose&#x00A0;name&#x00A0;is&#x00A0;"THIS"
&#x00A0;<br />has&#x00A0;been&#x00A0;removed&#x00A0;from
&#x00A0;<br />4&#x00A0;lisp&#x003E;
&#x00A0;<br />%&#x00A0;the&#x00A0;symbol&#x00A0;table,&#x00A0;it&#x00A0;remains&#x00A0;in
&#x00A0;<br />%existance&#x00A0;and&#x00A0;its&#x00A0;value&#x00A0;% cell
&#x00A0;<br />4&#x00A0;lisp&#x003E;&#x00A0;&#x00A0;%&#x00A0;is&#x00A0;still&#x00A0;defined&#x00A0;as&#x00A0;"SOMETHING".
&#x00A0;<br />4&#x00A0;lisp&#x003E;&#x00A0;(eval&#x00A0;what)
&#x00A0;<br />"SOMETHING"
</div>
<!--l. 186--><p class="nopar" >
<!--l. 196--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34005"></a>
<span 
class="ptmb7t-x-x-120">(newid U:string): id                                                                                                     </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Creates  an  uninterned  identifier  with  the  specified  name.  The  string  is
used as the print name without being copied. See section 2.3 for the full
definition. This function makes it possible to create a number of distinct
ids which have the same name. To illustrate the use of this function, the
implementation of a package system (see Chapter [packages]), requires a
function like newid.</div></div>
<!--l. 200--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34006"></a>
<span 
class="ptmb7t-x-x-120">(internp U:id,string): boolean                                                                                     </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns t if U is interned.
</div></div>
<!--l. 207--><p class="noindent" ><div class="minipage"><a 
 id="dx15-34007"></a>
<span 
class="ptmb7t-x-x-120">(mapobl FNAME:function): Undefined                                                                     </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Mapobl  applies  function  FNAME  to  each  interned  id.  The  following
expression will print each id which is flagged global. Note that there should
be only one formal parameter to FNAME.</div>
</div>

<div class="verbatim" id="verbatim-64">
(mapobl&#x00A0;'(lambda&#x00A0;(item)&#x00A0;(if&#x00A0;(flagp&#x00A0;item&#x00A0;'global)
&#x00A0;<br />(print&#x00A0;item))))
</div>
<!--l. 211--><p class="nopar" >
<h5 class="subsubsectionHead"><a 
 id="x15-350004.2.1"></a>Find</h5>
<!--l. 214--><p class="noindent" >These functions take a string or id as an argument, and scan the symbol table to collect a list of
ids whose names contain a prefix or suffix which matches the argument. These functions are
defined in the library module <span 
class="ptmb7t-x-x-120">find</span>.
<!--l. 224--><p class="noindent" ><div class="minipage"><a 
 id="dx15-35001"></a>
<span 
class="ptmb7t-x-x-120">(findprefix KEY:id, string): id-list                                                                              </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Each interned id whose name contains a prefix which matches the KEY is
added to the result. The ids are sorted alphabetically. The expression</div>
</div>

<div class="verbatim" id="verbatim-65">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(findprefix&#x00A0;'&#x22C6;)
</div>
<!--l. 227--><p class="nopar" >will return a list of all of the interned ids whose name begins with *.
<!--l. 236--><p class="noindent" ><div class="minipage"><a 
 id="dx15-35002"></a>
<span 
class="ptmb7t-x-x-120">(findsuffix KEY:id, string): id-list                                                                              </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Each interned id whose name contains a suffix which matches the KEY is
added to the result. The ids are sorted alphabetically. The expression</div>
</div>

<div class="verbatim" id="verbatim-66">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(findsuffix&#x00A0;"STRING")
</div>
<!--l. 239--><p class="nopar" >will return a list of all of the interned ids whose name ends with STRING.

<!--l. 243--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li3.html#allman1se9.html" >Up</a></td><td class="clinks"><a 
href="allman1se10.html" >Next</a></td><td class="clinks"><a 
href="allman1se8.html" >Prev</a></td><td class="clinks"><a 
href="allman1se8.html#tailallman1se8.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se9.html" >Front</a></td></tr></table><a 
 id="tailallman1se9.html"></a>    
</body></html> 
