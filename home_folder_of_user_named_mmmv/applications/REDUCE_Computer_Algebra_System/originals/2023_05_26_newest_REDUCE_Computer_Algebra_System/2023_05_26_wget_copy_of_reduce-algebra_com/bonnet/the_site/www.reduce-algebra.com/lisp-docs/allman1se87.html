<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Vectors</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="http://www.reduce-algebra.com/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li19.html#allman1se87.html" >Up</a></td><td class="clinks"><a 
href="allman1se88.html" >Next</a></td><td class="clinks"><a 
href="allman1se87.html#tailallman1se87.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">20.1    </span> <a 
 id="x109-22200020.1"></a>Vectors</h3>
<!--l. 9--><p class="noindent" >A vector is a structured entity in which random elements may be accessed with an
integer index. A vector has a single dimension. Its maximum size is determined by the
implementation and available space. A vector is denoted by enclosing its elements within square
brackets.

<div class="verbatim" id="verbatim-411">
[10&#x00A0;TEN]
&#x00A0;<br />[COLORS&#x00A0;(RED&#x00A0;BLUE)]
</div>
<!--l. 17--><p class="nopar" >
<!--l. 20--><p class="noindent" >
<h5 class="subsubsectionHead"><a 
 id="x109-22300020.1"></a>Built-in Vector Creation and Copying Functions</h5>
<!--l. 29--><p class="noindent" ><div class="minipage"><a 
 id="dx109-223001"></a>
<span 
class="ptmb7t-x-x-120">(mkvect UPLIM:integer): vector                                                                                </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Defines  and  allocates  space  for  a  vector  with  (add1  UPLIM)  elements
accessed as 0 ... UPLIM. Each element is initialized to nil. If UPLIM is -1,
an empty vector is returned. An error occurs if UPLIM is less than -1 or if
the amount of available memory is insufficient for a vector of this size.</div>
</div>

<div class="verbatim" id="verbatim-412">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x00A0;A&#x00A0;vector&#x00A0;of&#x00A0;size&#x00A0;UPLIM&#x00A0;cannot&#x00A0;be&#x00A0;allocated
</div>
<!--l. 32--><p class="nopar" >
<!--l. 41--><p class="noindent" ><div class="minipage"><a 
 id="dx109-223002"></a>
<span 
class="ptmb7t-x-x-120">(make-vector UPLIM:integer INITVAL:any): vector                                              </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Similar to mkvect, except that each element is initialized to INITVAL. Note
the difference between this function and make-string, (see the section on
creating and copying strings in Chapter 6). This function creates a vector
of (add1 UPLIM) elements where make-string creates a string of UPLIM
characters.</div></div>
<!--l. 44--><p class="noindent" >The vector created by this function will contain (add1 UPLIM) references to INTVAL as
opposed to creating a copy of UPLIM for each entry.

<div class="verbatim" id="verbatim-413">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;array&#x00A0;(make-vector&#x00A0;1&#x00A0;(make-vector&#x00A0;1&#x00A0;0)))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;[[0&#x00A0;0]&#x00A0;[0&#x00A0;0]]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;lisp&#x003E;&#x00A0;(vector-store&#x00A0;(vector-fetch&#x00A0;array&#x00A0;0)&#x00A0;0&#x00A0;1)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;lisp&#x003E;&#x00A0;array
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;[[1&#x00A0;0]&#x00A0;[1&#x00A0;0]]
</div>
<!--l. 55--><p class="nopar" >
<!--l. 62--><p class="noindent" ><div class="minipage"><a 
 id="dx109-223003"></a>
<span 
class="ptmb7t-x-x-120">(vector [ARGS:any]): vector                                                                                     </span><span 
class="ptmri7t-x-x-120">nexpr</span>
<br 
class="newline" /><div class="minipage">Create vector of elements from the list ARGS. The size of the vector will
be equal to the number of elements in the list ARGS. Each element of the
vector is initialized to the corresponding element from ARGS</div>
</div>
<!--l. 68--><p class="noindent" ><div class="minipage"><a 
 id="dx109-223004"></a>
<span 
class="ptmb7t-x-x-120">(copyvectortofrom NEW:vector OLD:vector):</span><br 
class="newline" /><span 
class="ptmb7t-x-x-120">NEW:vector                                                                                                                  </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">The elements of NEW are set to the corresponding elements of OLD The
elements are not copied.</div>
</div>

<div class="verbatim" id="verbatim-414">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;a&#x00A0;[[1&#x00A0;2&#x00A0;3]])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;[[1&#x00A0;2&#x00A0;3]]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;b&#x00A0;[0])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;[0]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;lisp&#x003E;&#x00A0;(copyvectortofrom&#x00A0;b&#x00A0;a)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;[[1&#x00A0;2&#x00A0;3]]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;4&#x00A0;lisp&#x003E;&#x00A0;(eq&#x00A0;(getv&#x00A0;a&#x00A0;0)&#x00A0;(getv&#x00A0;b&#x00A0;0))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;t
</div>
<!--l. 78--><p class="nopar" ><div class="minipage"><a 
 id="dx109-223005"></a>
<span 
class="ptmb7t-x-x-120">(copyvector V:vector): vector                                                                                      </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Create a new vector, with the elements initalized from the corresponding
elements of V. The elements of V are not copied.</div>
</div>

<div class="verbatim" id="verbatim-415">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;a&#x00A0;"A&#x00A0;STRING")
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"A&#x00A0;STRING"
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;b&#x00A0;(vector&#x00A0;a))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;["A&#x00A0;STRING"]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;c&#x00A0;(copyvector&#x00A0;b))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;["A&#x00A0;STRING"]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;4&#x00A0;lisp&#x003E;&#x00A0;(eq&#x00A0;(getv&#x00A0;b&#x00A0;0)&#x00A0;(getv&#x00A0;c&#x00A0;0))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;t
</div>
<!--l. 93--><p class="nopar" >
<h4 class="subsectionHead"><span class="titlemark">20.1.1    </span> <a 
 id="x109-22400020.1.1"></a>About the Basic Operations on Vectors</h4>
<!--l. 96--><p class="noindent" >The functionality provided here overlaps what is provided in some other ways. The functions
provided here have well-chosen names and definitions, they provide the option of
generating efficient code, and they are consistent with the esthetic preferences of our
community.
<!--l. 102--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">20.1.2    </span> <a 
 id="x109-22500020.1.2"></a>The Operations</h4>
<!--l. 104--><p class="noindent" >This section documents functions in the library module <span 
class="ptmb7t-x-x-120">slow-vectors </span>. There is another library
module called <span 
class="ptmb7t-x-x-120">fast-vectors</span>. The fast-vectors module provides alternate definitions for these
functions. When the switch fast-vectors is non-nil the compiler will use these alternate
definitions to produce effiecient code. However, there will not be any verification that arguments
are of correct type (in addition, it is assumed that numeric arguments are within a proper range).
If invalid arguments are used, then at best your code will not generate correct results, you may
actually damage the PSL system. There are two side effects to loading fast-vectors.
The slow-vectors module will be loaded and the switch fast-vectors will be set to
t.
<!--l. 122--><p class="noindent" ><div class="minipage"><a 
 id="dx109-225001"></a>
<span 
class="ptmb7t-x-x-120">(vector-fetch V:vector I:integer): any                                                                        </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Accesses an element of a PSL vector. Vector indexes start with 0. The thing
stored in that position of the vector is returned.</div>
</div>
<!--l. 126--><p class="noindent" ><div class="minipage"><a 
 id="dx109-225002"></a>
<span 
class="ptmb7t-x-x-120">(vector-store V:vector I:integer X:any): None Returned                                         </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Stores into a PSL vector. Vector indexes start with 0.
</div></div>

<!--l. 132--><p class="noindent" ><div class="minipage"><a 
 id="dx109-225003"></a>
<span 
class="ptmb7t-x-x-120">(vector-size V:vector): integer                                                                                     </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns the number of elements in a PSL vector. Since indexes start with
index 0, the size is one larger than the greatest legal index. See also just
below.</div></div>
<!--l. 137--><p class="noindent" ><div class="minipage"><a 
 id="dx109-225004"></a>
<span 
class="ptmb7t-x-x-120">(vector-upper-bound V:vector): integer                                                                     </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns the greatest legal index for accessing or storing into a PSL vector.
See also just above.</div>
</div>
<!--l. 142--><p class="noindent" ><div class="minipage"><a 
 id="dx109-225005"></a>
<span 
class="ptmb7t-x-x-120">(vector-empty? V:vector): boolean                                                                             </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">True if the vector has no elements (its size is 0), otherwise NIL.
</div></div>
<h4 class="subsectionHead"><span class="titlemark">20.1.3    </span> <a 
 id="x109-22600020.1.3"></a>Built-in Operations on Vectors</h4>
<!--l. 145--><p class="noindent" >These predate the fast-vectors (f-vector) and slow-vectors (s-vector) library modules.
<!--l. 154--><p class="noindent" ><div class="minipage"><a 
 id="dx109-226001"></a>
<span 
class="ptmb7t-x-x-120">(getv V:vector INDEX:integer): any                                                                          </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns  the  value  stored  at  position  INDEX  of  the  vector  V.  The  type
mismatch error may occur. An error occurs if the INDEX does not lie within
0 ... (upbv V) inclusive:</div>
</div>

<div class="verbatim" id="verbatim-416">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x00A0;INDEX&#x00A0;subscript&#x00A0;is&#x00A0;out&#x00A0;of&#x00A0;range
</div>
<!--l. 157--><p class="nopar" >
<!--l. 164--><p class="noindent" ><div class="minipage"><a 
 id="dx109-226002"></a>
<span 
class="ptmb7t-x-x-120">(putv V:vector INDEX:integer VALUE:any): any                                                    </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Stores VALUE in the vector V at position INDEX, VALUE is returned.
A type mismatch error will occur if V is not a vector. If INDEX is either
negative or greater than (upbv V) then an error occurs.</div>
</div>

<div class="verbatim" id="verbatim-417">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x00A0;Subscript&#x00A0;&#8216;INDEX'&#x00A0;in&#x00A0;PutV&#x00A0;is&#x00A0;out&#x00A0;of&#x00A0;range
</div>
<!--l. 167--><p class="nopar" >
<!--l. 172--><p class="noindent" ><div class="minipage"><a 
 id="dx109-226003"></a>
<span 
class="ptmb7t-x-x-120">(upbv U:any): nil, integer                                                                                            </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns the upper limit of U if U is a vector, or nil if it is not.
</div></div>

<table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li19.html#allman1se87.html" >Up</a></td><td class="clinks"><a 
href="allman1se88.html" >Next</a></td><td class="clinks"><a 
href="allman1se87.html" >Front</a></td></tr></table><a 
 id="tailallman1se87.html"></a>   
</body></html> 
