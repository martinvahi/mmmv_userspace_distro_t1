<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Switches That Control the Compiler</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="http://www.reduce-algebra.com/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li14.html#allman1se67.html" >Up</a></td><td class="clinks"><a 
href="allman1se68.html" >Next</a></td><td class="clinks"><a 
href="allman1se66.html" >Prev</a></td><td class="clinks"><a 
href="allman1se66.html#tailallman1se66.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se67.html#tailallman1se67.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">15.9    </span> <a 
 id="x84-16900015.9"></a>Switches That Control the Compiler</h3>
<!--l. 543--><p class="noindent" >The compilation process is controlled by a number of switches. In addition to comp there are the
following switches.
<!--l. 547--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169001"></a>
<span 
class="ptmb7t-x-x-120">*fast-vectors </span>= [Initially: t]                                                                                        <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">
</div></div>
<!--l. 550--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169002"></a>
<span 
class="ptmb7t-x-x-120">*fast-evectors </span>= [Initially: t]                                                                                      <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">
</div></div>
<!--l. 553--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169003"></a>
<span 
class="ptmb7t-x-x-120">*fast-strings </span>= [Initially: nil]                                                                                     <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">
</div></div>
<!--l. 568--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169004"></a>
<span 
class="ptmb7t-x-x-120">*fast-integers </span>= [Initially: nil]                                                                                   <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">There  are  some  functions  which  are  defined  in  two  ways.  One  of  these
versions will reduce the execution time by not verifying that the arguments
are of correct type. The name of the slower version will have two properties,
FAST-FLAG and FAST-FUNCTION. The FAST-FLAG property references
a  switch  whose  value  determines  which  function  will  be  called  from
compiled  code.  An  instance  of  the  slower  function  is  replaced  by  the
faster one when the switch is set to t. Of course, to make this conversion
the  compiler  has  to  know  the  name  of  the  faster  function.  This  name  is
referenced by the FAST-FUNCTION property.</div>
</div>
<!--l. 570--><p class="noindent" >The property list of the function vector-fetch looks something like

<div class="verbatim" id="verbatim-352">
(...&#x00A0;(fast-flag&#x00A0;.&#x00A0;&#x22C6;fast-vectors)&#x00A0;(fast-function&#x00A0;.&#x00A0;igetv)&#x00A0;...)
</div>
<!--l. 574--><p class="nopar" >The expression (vector-fetch vector index) will be replaced by the expression (igetv vector
index) if the switch *fast-vectors is set to t.
<!--l. 588--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169005"></a>
<span 
class="ptmb7t-x-x-120">*r2i </span>= [Initially: t]                                                                                                      <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If non-nil, recursive calls are converted to jumps whenever possible. The
effect of this is that tracing this function will not show the recursive calls
since they have been eliminated. The function RECURSIVE-FACTORIAL
contains  a  recursive  call  which  can  be  converted  to  a  jump.  The  result
of  compiling  RECURSIVE-FACTORIAL  is  almost  identical  to  that  of
compiling ITERATIVE-FACTORIAL when r2i is non-nil.</div>
</div>

<div class="verbatim" id="verbatim-353">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(de&#x00A0;factorial&#x00A0;(n)&#x00A0;&#x00A0;(iterative-factorial&#x00A0;(1&#x00A0;n)))
</div>
<!--l. 591--><p class="nopar" >

<div class="verbatim" id="verbatim-354">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(de&#x00A0;recursive-factorial&#x00A0;(accumulator&#x00A0;count)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(if&#x00A0;(&#x003C;=&#x00A0;count&#x00A0;1)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;accumulator
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(recursive-factorial&#x00A0;(&#x22C6;&#x00A0;accumulator&#x00A0;count)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(sub1&#x00A0;count))))
</div>
<!--l. 598--><p class="nopar" >

<div class="verbatim" id="verbatim-355">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(de&#x00A0;iterative-factorial&#x00A0;(accumulator&#x00A0;count)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(prog&#x00A0;()
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;loop
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(when&#x00A0;(&#x003C;=&#x00A0;count&#x00A0;1)&#x00A0;(return&#x00A0;accumulator))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(setf&#x00A0;accumulator&#x00A0;(&#x22C6;&#x00A0;accumulator&#x00A0;count))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(decr&#x00A0;count)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(go&#x00A0;loop)))
</div>
<!--l. 607--><p class="nopar" ><div class="minipage"><a 
 id="dx84-169006"></a>
<span 
class="ptmb7t-x-x-120">*nolinke </span>= [Initially: nil]                                                                                            <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If  nil,  when  the  last  form  to  be  evaluated  is  a  function  call  then  the
compiler will generate an instruction which will perform two actions during
evaluation. Prior to jumping to the entry point of the function being called,
the  space  allocated  on  the  stack  for  local  variable  storage  is  reclaimed.
Although the amount of space reclaimed may be small, this does provide
the called function with more stack space. In contrast, when this switch is
non-nil a pair of instructions would be used, a call on the function followed
by an exit. In this case the stack space is not reclaimed until the exit.</div>
</div>
<!--l. 638--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169007"></a>
<span 
class="ptmb7t-x-x-120">*ord </span>= [Initially: nil]                                                                                                  <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If  non-nil,  the  compiler  is  forced  to  generate  code  which  evaluates
arguments of a function call in a left to right order. It is possible to generate
code  which  is  more  effecient  when  this  switch  is  set  to  nil.  Arguments
are  currently  passed  in  registers.  As  the  calling  function  computes  each
argument the result is stored on the stack. References to constants need not
be generated and then pushed onto the stack, the other arguments can be
compiled first, then just before the function is called the appropriate register
is loaded with the constant. A similar argument can be made for variable
references.  However,  allowing  for  side  effects  we  must  be  sure  that  the
postponed value would be the same as that fetched at the proper time.</div>
</div>
<!--l. 646--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169008"></a>
<span 
class="ptmb7t-x-x-120">*plap </span>= [Initially: nil]                                                                                                 <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If  non-nil,  the  portable  intermediate  code  produced  by  the  compiler  is
printed. This is useful for examining compiler output prior to assembly, in
particular it can be helpful in debugging macros.</div>
</div>

<!--l. 654--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169009"></a>
<span 
class="ptmb7t-x-x-120">*pgwd </span>= [Initially: nil]                                                                                               <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If non-nil, the actual assembly language mnemonics are displayed. This flag
is useful for examining the code which is generated for the initialization
function **fasl**initcode**.</div></div>
<!--l. 661--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169010"></a>
<span 
class="ptmb7t-x-x-120">*pcmac </span>= [Initially: nil]                                                                                             <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If non-nil, both the portable intermediate code and the assembly mnemonics
are displayed. After each intermediate instruction the assembly mnemonic
is shown.</div></div>
<!--l. 667--><p class="noindent" ><div class="minipage"><a 
 id="dx84-169011"></a>
<span 
class="ptmb7t-x-x-120">*pwrds </span>= [Initially: t]                                                                                                 <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">If non-nil, the address and size of compiled functions are displayed as they
are defined.</div></div>

<!--l. 669--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li14.html#allman1se67.html" >Up</a></td><td class="clinks"><a 
href="allman1se68.html" >Next</a></td><td class="clinks"><a 
href="allman1se66.html" >Prev</a></td><td class="clinks"><a 
href="allman1se66.html#tailallman1se66.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se67.html" >Front</a></td></tr></table><a 
 id="tailallman1se67.html"></a>  
</body></html> 
