<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Packages</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="primer.tex"> 
<meta name="date" content="2014-05-02 18:12:00"> 
<link rel="stylesheet" type="text/css" href="primer.css"> 
</head><body 
>
   <table cellspacing="5"><tr><td class="clinks"><a 
href="primerse7.html#primersu35.html" >Up</a></td><td class="clinks"><a 
href="primersu34.html" >Prev</a></td><td class="clinks"><a 
href="primersu34.html#tailprimersu34.html" >PrevTail</a></td><td class="clinks"><a 
href="primersu35.html#tailprimersu35.html">Tail</a></td></tr></table><h4 class="subsectionHead"><span class="titlemark">7.2   </span> <a 
 id="x57-530007.2"></a>Packages</h4>
<!--l. 2206--><p class="noindent" >If your application consists of several modules you can design it as a
<span 
class="cmtt-10x-x-109">package</span><a 
 id="dx57-53001"></a>. A package is a collection of modules which form a unit but
allow you an individual management, e.g.&#x00A0;updating and recompilation. A
package is defined by a header module which should have the name of the
package as the module name. This module then contains a declaration for
the package by the function <span 
class="cmtt-10x-x-109">create-package</span><a 
 id="dx57-53002"></a>, which expects as first
parameter a list of the modules which belong to the package (this list
must begin with the header package) and a second dummy parameter
to be set to <span 
class="cmmi-10x-x-109">nil </span>(this parameter is meaningful only for modules in the
<span 
class="cmr-10">REDUCE </span>kernel). Additionally the header module should contain all global
declarations for the complete package, e.g. <span 
class="cmtt-10x-x-109">fluid, global </span>declarations
and <span 
class="cmtt-10x-x-109">exports </span>and <span 
class="cmtt-10x-x-109">imports </span>statements. Also, all macros, smacros used in
more than one module in the package should be defined in the header
module.
<!--l. 2226--><p class="indent" >   As long as you develop your application and frequently recompile single
modules it would be practical to replace the function <span 
class="cmtt-10x-x-109">create-package </span>by a loop
calling <span 
class="cmtt-10x-x-109">load</span><span 
class="cmtt-10x-x-109">_package </span>(please note the underscore: <span 
class="cmtt-10x-x-109">load-package </span>is a different
function not usable here). You then can load the complete package by one call to
<span 
class="cmtt-10x-x-109">load</span><span 
class="cmtt-10x-x-109">_package </span>for the header module. Example:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-66">
module&#x00A0;alggeo;&#x00A0;%&#x00A0;Algebraic&#x00A0;geometry&#x00A0;support.
&#x00A0;<br />
&#x00A0;<br />&#x00A0;%&#x00A0;Author:&#x00A0;Hugo&#x00A0;Nobody,&#x00A0;Nirwanatown,&#x00A0;Utopia.
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;create_package(&#8217;(alggeo&#x00A0;alggeo1&#x00A0;alggeo2&#x00A0;alggeo3));
&#x00A0;<br />for&#x00A0;each&#x00A0;x&#x00A0;in&#x00A0;&#8217;(alggeo1&#x00A0;alggeo2&#x00A0;alggeo3)&#x00A0;do&#x00A0;load&#x00A0;x;
&#x00A0;<br />
&#x00A0;<br />fluid&#x00A0;&#8217;(alggeo_vars!*&#x00A0;......);
&#x00A0;<br />exports&#x00A0;...
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;...&#x00A0;and&#x00A0;so&#x00A0;on
&#x00A0;<br />
&#x00A0;<br />endmodule;
&#x00A0;<br />end;
</div>
<!--l. 2249--><p class="nopar" > Later you can replace the load loop <span 
class="cmtt-10x-x-109">load </span>by a correct <span 
class="cmtt-10x-x-109">create-package</span>
expression - you will then have to compile the object as one big binary with the
header module as the first entry.
<!--l. 2255--><p class="indent" >   For compiling you use the function <span 
class="cmtt-10x-x-109">faslout </span>which creates a fast loading file -
see the corresponding section in the User&#8217;s manual. <table cellspacing="5"><tr><td class="clinks"><a 
href="primerse7.html#primersu35.html" >Up</a></td><td class="clinks"><a 
href="primersu34.html" >Prev</a></td><td class="clinks"><a 
href="primersu34.html#tailprimersu34.html" >PrevTail</a></td><td class="clinks"><a 
href="primersu35.html" >Front</a></td></tr></table><a 
 id="tailprimersu35.html"></a>
 
</body></html> 
