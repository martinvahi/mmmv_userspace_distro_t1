<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Basic Functions on Pairs</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li4.html#allman1se14.html" >Up</a></td><td class="clinks"><a 
href="allman1se15.html" >Next</a></td><td class="clinks"><a 
href="allman1se13.html" >Prev</a></td><td class="clinks"><a 
href="allman1se13.html#tailallman1se13.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se14.html#tailallman1se14.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">5.2    </span> <a 
 id="x21-480005.2"></a>Basic Functions on Pairs</h3>
<!--l. 73--><p class="noindent" >The following are elementary functions on pairs. All functions in this Chapter which
require pairs as parameters signal a type mismatch error if the parameter given is not a
pair.
<!--l. 82--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48001"></a>
<span 
class="ptmb7t-x-x-120">(cons U:any V:any): pair                                                                                             </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Returns a pair which is not eq to anything else and has U as its car part and
V as its cdr part.</div>
</div>
<!--l. 94--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48002"></a>
<span 
class="ptmb7t-x-x-120">(car U:pair): any                                                                                 </span><span 
class="ptmri7t-x-x-120">open-compiled expr</span>
<br 
class="newline" /><div class="minipage">The left part of the pair U is returned. Note that applications of car are open
compiled, a compiled application of car will not verify that its argument is
a pair. The function SafeCar may be used in place of car. The definitions of
these two functions are identical, the difference between them is that safecar
is not open compiled. For interpreted applications, the car of nil is nil and if
U is something other that a pair or nil the following error will result.</div>
</div>

<div class="verbatim" id="verbatim-94">
&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x00A0;&#x00A0;An&#x00A0;attempt&#x00A0;was&#x00A0;made&#x00A0;to&#x00A0;do&#x00A0;CAR&#x00A0;on&#x00A0;&#8216;U',&#x00A0;which&#x00A0;is&#x00A0;not&#x00A0;a&#x00A0;pair
</div>
<!--l. 97--><p class="nopar" >
<!--l. 109--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48003"></a>
<span 
class="ptmb7t-x-x-120">(cdr U:pair): any                                                                                 </span><span 
class="ptmri7t-x-x-120">open-compiled expr</span>
<br 
class="newline" /><div class="minipage">The left part of the pair U is returned. Note that applications of cdr are open
compiled, a compiled application of cdr will not verify that its argument is
a pair. The function SafeCdr may be used in place of cdr. The definitions of
these two functions are identical, the difference between them is that safecdr
is not open compiled. For interpreted applications, the cdr of nil is nil and if
U is something other that a pair or nil the following error will result.</div>
</div>

<div class="verbatim" id="verbatim-95">
&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x00A0;An&#x00A0;attempt&#x00A0;was&#x00A0;made&#x00A0;to&#x00A0;do&#x00A0;CDR&#x00A0;on&#x00A0;&#8216;U',&#x00A0;which&#x00A0;is&#x00A0;not&#x00A0;a&#x00A0;pair
</div>
<!--l. 112--><p class="nopar" >The composites of car and cdr are supported up to four levels.

<div class="verbatim" id="verbatim-96">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Car&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Cdr
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Caar&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Cdar&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Cadr&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Cddr
&#x00A0;<br />&#x00A0;&#x00A0;Caaar&#x00A0;&#x00A0;Cdaar&#x00A0;&#x00A0;&#x00A0;&#x00A0;Cadar&#x00A0;&#x00A0;Cddar&#x00A0;&#x00A0;&#x00A0;&#x00A0;Caadr&#x00A0;&#x00A0;Cdadr&#x00A0;&#x00A0;&#x00A0;&#x00A0;Caddr&#x00A0;&#x00A0;Cdddr
&#x00A0;<br />&#x00A0;Caaaar&#x00A0;&#x00A0;Cadaar&#x00A0;&#x00A0;Caadar&#x00A0;&#x00A0;Caddar&#x00A0;&#x00A0;Caaadr&#x00A0;&#x00A0;Cadadr&#x00A0;&#x00A0;Caaddr&#x00A0;&#x00A0;Cadddr
&#x00A0;<br />&#x00A0;Cdaaar&#x00A0;&#x00A0;Cddaar&#x00A0;&#x00A0;Cdadar&#x00A0;&#x00A0;Cdddar&#x00A0;&#x00A0;Cdaadr&#x00A0;&#x00A0;Cddadr&#x00A0;&#x00A0;Cdaddr&#x00A0;&#x00A0;Cddddr
</div>
<!--l. 121--><p class="nopar" >These are all exprs of one argument. Applications of these functions are generally open
compiled. An example of their use is that (cddar p) is equivalent to (cdr (cdr (car p))). For
interpreted applications, a type mismatch error occurs if the argument does not possess the
specified component.
<!--l. 128--><p class="noindent" >As an alternative to employing chains of car and cdr to obscure depths, particularly in extracting
elements of a list, consider the use of the functions first, second, third, fourth, rest, nth, and
pnth.
<!--l. 136--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48004"></a>
<span 
class="ptmb7t-x-x-120">(ncons U:any): pair                                                                                                      </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Equivalent to (cons u nil).
</div></div>
<!--l. 141--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48005"></a>
<span 
class="ptmb7t-x-x-120">(xcons LEFT:any RIGHT:any): pair                                                                         </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Equivalent to (cons RIGHT LEFT), this function is useful for generating
efficient list building code for the compiler.</div>
</div>
<!--l. 149--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48006"></a>
<span 
class="ptmb7t-x-x-120">(copy X:any): any                                                                                                         </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">This  function  returns  a  copy  of  X.  While  each  pair  is  copied,  atomic
elements (for example ids, strings, and vectors) are not. See totalcopy in
section 7.5. Note that copy is recursive and will not terminate if its argument
is a circular list.</div></div>

<div class="verbatim" id="verbatim-97">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;(de&#x00A0;copy&#x00A0;(u)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(if&#x00A0;(pairp&#x00A0;u)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(cons&#x00A0;(copy&#x00A0;(car&#x00A0;u))&#x00A0;(copy&#x00A0;(cdr&#x00A0;u)))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;u))
</div>
<!--l. 155--><p class="nopar" >

<div class="verbatim" id="verbatim-98">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;p&#x00A0;'("AKU"&#x00A0;(charlie)))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;("AKU"&#x00A0;(CHARLIE))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;q&#x00A0;(copy&#x00A0;p))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;("AKU"&#x00A0;(CHARLIE))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;lisp&#x003E;&#x00A0;(eq&#x00A0;p&#x00A0;q)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;NIL
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;4&#x00A0;lisp&#x003E;&#x00A0;(eq&#x00A0;(first&#x00A0;p)&#x00A0;(first&#x00A0;q))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;T
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;5&#x00A0;lisp&#x003E;&#x00A0;(eq&#x00A0;(third&#x00A0;p)&#x00A0;(third&#x00A0;q))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;NIL
</div>
<!--l. 167--><p class="nopar" >See Chapter 6 for other relevant functions.<br 
class="newline" />
<!--l. 170--><p class="noindent" >The following functions are known as &#8221;destructive&#8221; functions, because they change the structure
of the pair given as their argument, and consequently change the structure of any object
containing the pair. They are frequently used to make code more efficient. For example append
will copy its first argument whereas nconc will not. These functions are also used to build
structures which share sub-structure. It is possible to create self referential structures
with these functions. This can create havoc with normal printing and list traversal
functions.
<!--l. 186--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48007"></a>
<span 
class="ptmb7t-x-x-120">(rplaca U:pair V:any): pair                                                                </span><span 
class="ptmri7t-x-x-120">open-compiled expr</span>
<br 
class="newline" /><div class="minipage">The car of the pair U is replaced by V, the modified pair U is returned. A
type mismatch error occurs if U is not a pair</div>
</div>

<div class="verbatim" id="verbatim-99">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;fruit&#x00A0;'(orange&#x00A0;apple))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(ORANGE&#x00A0;APPLE)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;food&#x00A0;(cons&#x00A0;'cheese&#x00A0;fruit))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(CHEESE&#x00A0;ORANGE&#x00A0;APPLE)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;lisp&#x003E;&#x00A0;(rplaca&#x00A0;fruit&#x00A0;'peach)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(PEACH&#x00A0;APPLE)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;4&#x00A0;lisp&#x003E;&#x00A0;food
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(CHEESE&#x00A0;PEACH&#x00A0;APPLE)
</div>
<!--l. 196--><p class="nopar" >
<!--l. 202--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48008"></a>
<span 
class="ptmb7t-x-x-120">(rplacd U:pair V:any): pair                                                                </span><span 
class="ptmri7t-x-x-120">open-compiled expr</span>
<br 
class="newline" /><div class="minipage">The cdr of the pair U is replaced by V, the modified pair U is returned. A
type mismatch error occurs if U is not a pair.</div>
</div>

<div class="verbatim" id="verbatim-100">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;lisp&#x003E;&#x00A0;(setq&#x00A0;pair&#x00A0;'(left))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(LEFT)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;lisp&#x003E;&#x00A0;(progn&#x00A0;(rplacd&#x00A0;pair&#x00A0;'right)&#x00A0;pair)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(LEFT&#x00A0;.&#x00A0;RIGHT)
</div>
<!--l. 208--><p class="nopar" >
<!--l. 214--><p class="noindent" ><div class="minipage"><a 
 id="dx21-48009"></a>
<span 
class="ptmb7t-x-x-120">(rplacw A:pair B:pair): pair                                                                                       </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">Replaces the whole pair: the car of A is replaced with the car of B, and the
cdr of A with the cdr of B. The modified pair A is returned.</div>
</div>

<table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li4.html#allman1se14.html" >Up</a></td><td class="clinks"><a 
href="allman1se15.html" >Next</a></td><td class="clinks"><a 
href="allman1se13.html" >Prev</a></td><td class="clinks"><a 
href="allman1se13.html#tailallman1se13.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se14.html" >Front</a></td></tr></table><a 
 id="tailallman1se14.html"></a>  
</body></html> 
