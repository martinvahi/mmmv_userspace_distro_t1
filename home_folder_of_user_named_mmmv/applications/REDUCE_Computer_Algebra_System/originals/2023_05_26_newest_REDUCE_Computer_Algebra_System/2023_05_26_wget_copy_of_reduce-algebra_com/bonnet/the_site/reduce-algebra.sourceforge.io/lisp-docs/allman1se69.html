<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Implementation Details</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li14.html#allman1se69.html" >Up</a></td><td class="clinks"><a 
href="allman1se68.html" >Prev</a></td><td class="clinks"><a 
href="allman1se68.html#tailallman1se68.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se69.html#tailallman1se69.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">15.11    </span> <a 
 id="x86-17100015.11"></a>Implementation Details</h3>
<!--l. 686--><p class="noindent" >The output from the compiler is a list of instructions in the order which they will be executed.
Each instruction is a list, an operation followed by as many items as are required by that
operation. The compiled code may be executed by simulating the actions of the machine on each
element of the sequence. In the interest of efficiency, the compiler ouput is translated into a
sequence of actual machine instructions. An area of memory (which is not garbage collected), is
allocated to receive the processed compiler output. This area is called the Binary Program
Space or BPS. The function lap translates the output from the compiler into machine
instructions.
<!--l. 698--><p class="noindent" >The functions faslout, faslend, and faslabort are used by Compile-file-aux to compile files. It
should not be necessary for you to used these functions, they are included for completeness.
Evaluation of

<div class="verbatim" id="verbatim-357">
(faslout&#x00A0;name)
</div>
<!--l. 705--><p class="nopar" >will cause the message
<!--l. 708--><p class="noindent" >FASLOUT: (DSKIN files) or type in expressions<br 
class="newline" />When all done execute (FASLEND)
<!--l. 711--><p class="noindent" >to be displayed. Subsequent expressions, typed in or read from files, are not processed in
the normal fashion. The following piece of code demonstrates how this feature is
implemented.

<div class="verbatim" id="verbatim-358">
&#x00A0;&#x00A0;(de&#x00A0;toploop
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;...
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;(cond&#x00A0;((not&#x00A0;&#x22C6;defn)&#x00A0;(top-loop-eval-and-print&#x00A0;input-value))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(dfprint&#x22C6;&#x00A0;(funcall&#x00A0;dfprint&#x22C6;&#x00A0;input-value))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(t&#x00A0;(prettyprint&#x00A0;input-value)))
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;...&#x00A0;)
</div>
<!--l. 722--><p class="nopar" >When the switch *defn is nil the input is evaluated and the result is printed. Setting *defn to t
and associating a function with the global dfprint* allows for the redefinition of what is meant
by evaluating the input and printing the result of that evaluation. It the function bound to
dfprint* which is responsible for the compilation of expressions. Faslend is provided to
discontinue compilation, faslabort is used to abort the compilation. The only context in which
the application of these functions makes sense is when a previous invocation of faslout has not
been terminated.

<div class="verbatim" id="verbatim-359">
&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x00A0;FASLEND&#x00A0;not&#x00A0;within&#x00A0;FASLOUT
</div>
<!--l. 736--><p class="nopar" >

<table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li14.html#allman1se69.html" >Up</a></td><td class="clinks"><a 
href="allman1se68.html" >Prev</a></td><td class="clinks"><a 
href="allman1se68.html#tailallman1se68.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se69.html" >Front</a></td></tr></table><a 
 id="tailallman1se69.html"></a>  
</body></html> 
