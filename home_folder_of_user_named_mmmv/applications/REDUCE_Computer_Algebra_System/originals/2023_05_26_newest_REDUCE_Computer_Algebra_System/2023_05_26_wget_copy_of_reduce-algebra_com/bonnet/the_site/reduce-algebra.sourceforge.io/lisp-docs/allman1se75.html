<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Introduction</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li16.html#allman1se75.html" >Up</a></td><td class="clinks"><a 
href="allman1se76.html" >Next</a></td><td class="clinks"><a 
href="allman1se75.html#tailallman1se75.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">17.1    </span> <a 
 id="x94-17900017.1"></a>Introduction</h3>
<!--l. 5--><p class="noindent" >This chapter describes tools which build cross references, and which aid in analyzing LISP code
for building other cross reference - like tools.
<!--l. 9--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">17.1.1    </span> <a 
 id="x94-18000017.1.1"></a>RCREF - Cross Reference Generator for PSL Files</h4>
<!--l. 11--><p class="noindent" ><span 
class="ptmb7t-x-x-120">rcref </span>is a Standard LISP program for processing a set of PSL function definitions to
produce:
<!--l. 14--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x94-180002x1">A &#8221;Summary&#8221; showing:
           <ul class="itemize1">
           <li class="itemize">A list of files processed.

        </li>
        <li class="itemize">A list of &#8221;entry points&#8221; (functions which are not called or are called only by
        themselves).
        </li>
        <li class="itemize">A list of undefined functions (functions called but not defined in this set of
        functions).
        </li>
        <li class="itemize">A list of variables that were used non-locally but not declared GLOBAL or
        FLUID before their use.
        </li>
        <li class="itemize">A  list  of  variables  that  were  declared  GLOBAL  but  used  as  FLUIDs  (i.e.
        bound in a function).
        </li>
        <li class="itemize">A list of FLUID variables that were not bound in a function so that one might
        consider declaring them GLOBALs.
        </li>
        <li class="itemize">A list of all GLOBAL variables present.
        </li>
        <li class="itemize">A list of all FLUID variables present.
        </li>
        <li class="itemize">A list of all functions present.</li></ul>
   </li>
   <li 
  class="enumerate" id="x94-180004x2">A &#8221;global variable usage&#8221; table, showing for each non-local variable:
        <ul class="itemize1">
        <li class="itemize">Functions in which it is used as a declared FLUID or GLOBAL.
        </li>
        <li class="itemize">Functions in which it is used but not declared before.
        </li>
        <li class="itemize">Functions in which it is bound.
        </li>
        <li class="itemize">Functions in which it is changed by setq.</li></ul>
   </li>
   <li 
  class="enumerate" id="x94-180006x3">A &#8221;function usage&#8221; table showing for each function:
        <ul class="itemize1">
        <li class="itemize">Where it is defined.
        </li>
        <li class="itemize">Functions which call this function.
        </li>
        <li class="itemize">Functions called by it.

        </li>
        <li class="itemize">Non-local variables used.</li></ul>
   </li></ol>
<!--l. 72--><p class="noindent" >The output is alphabetized on the first seven characters of each function name.
<!--l. 75--><p class="noindent" >RCREF also checks that functions are called with the correct number of arguments.
<!--l. 78--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">17.1.2    </span> <a 
 id="x94-18100017.1.2"></a>Restrictions</h4>
<!--l. 80--><p class="noindent" >Algebraic procedures in Reduce are treated as if they were symbolic, so that algebraic constructs
actually appear as calls to symbolic functions, such as aeval.
<!--l. 84--><p class="noindent" >RCREF adds the eval flag to some functions, so it probably cannot coexist with the compiler in a
core image.
<!--l. 87--><p class="noindent" >SYSLisp procedures are not correctly analyzed.
<!--l. 89--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">17.1.3    </span> <a 
 id="x94-18200017.1.3"></a>Usage</h4>
<!--l. 91--><p class="noindent" >RCREF should be used in PSL:RLisp. To make a file FILE.CRF which is a cross reference
listing for files FILE1.EX1 and FILE2.EX2 do the following in RLisp:
<!--l. 95--><p class="noindent" >LOAD RCREF;
<!--l. 97--><p class="noindent" >OUT &#8221;file.crf&#8221;; ON CREF; <br 
class="newline" />IN &#8221;file1.ex1&#8221;,&#8221;file2.ex2&#8221;; <br 
class="newline" />OFF CREF; <br 
class="newline" />SHUT &#8221;file.crf&#8221;.
<!--l. 103--><p class="noindent" >To process more files, more IN statements may be added, or the IN statement may be changed to
include more files.
<!--l. 106--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">17.1.4    </span> <a 
 id="x94-18300017.1.4"></a>Options</h4>
<!--l. 109--><p class="noindent" ><div class="minipage"><a 
 id="dx94-183001"></a>
<span 
class="ptmb7t-x-x-120">*crefsummary </span>= [Initially:NIL]                                                                                <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">
</div>
</div>If the switch CREFSUMMARY is ON then only the summary (see 1 above) is produced.
<!--l. 113--><p class="noindent" >Functions with the flag NOLIST are not examined or output. Initially, all PSL functions are so
flagged. (In fact, they are kept on a list NOLIST!*, so if you wish to see references to ALL
functions, then CREF should be first loaded with the command LOAD RCREF, and this variable
then set to NIL). (RCREF is now autoloading.)

<!--l. 121--><p class="noindent" ><div class="minipage"><a 
 id="dx94-183002"></a>
<span 
class="ptmb7t-x-x-120">nolist* </span>= [Initially: the following list]                                                                        <span 
class="ptmri7t-x-x-120">global</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">
</div>
</div>(and cond list max min or plus prog prog2 progn times lambda abs add1 append apply assoc
atom car cdr caar cadr cdar cddr caaar caadr cadar caddr cdaar cdadr cddar cdddr caaaar caaadr
caadar caaddr cadaar cadadr caddar cadddr cdaaar cdaadr cdadar cdaddr cddaar cddadr cdddar
cddddr close codep compress cons constantp de deflist delete df difference digit divide dm eject
eq eqn equal error errorset eval evlis expand explode expt fix fixp flag flagp float
floatp fluid fluidp function densym get getd getv global globalp go greaterp idp intern
length lessp linelength liter lposn map map mapc mapcan mapcar mapcon maplist
max2 member memq minus minusp min2 mkvect nconc not null numberp onep open
pagelength pair pairp plus2 posn princ print prin1 prin2 prog2 put putd putv quote
quotient rds read readch remainder remd remflag remob remprop return reverse rplaca
rplacd sassoc set setq stringp sublis subst sub1 terpri times2 unfluid upbv vectorp wrs
zerop)
<!--l. 187--><p class="noindent" >It should also be remembered that in RLisp any macros with the flag EXPAND or, if FORCE is
on, without the flag NOEXPAND, are expanded before the definition is seen by the
cross-reference program, so this flag can also be used to select those macros you require
expanded and those you do not. The use of ON FORCE; is highly recommended for
CREF.

<!--l. 194--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li16.html#allman1se75.html" >Up</a></td><td class="clinks"><a 
href="allman1se76.html" >Next</a></td><td class="clinks"><a 
href="allman1se75.html" >Front</a></td></tr></table><a 
 id="tailallman1se75.html"></a>   
</body></html> 
