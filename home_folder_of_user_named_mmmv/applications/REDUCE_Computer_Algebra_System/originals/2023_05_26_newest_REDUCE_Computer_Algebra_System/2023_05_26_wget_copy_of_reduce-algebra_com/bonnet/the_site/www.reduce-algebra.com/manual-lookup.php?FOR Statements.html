<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>FOR Statements</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="manual/manual.css" /> 
<meta name="src" content="manual.tex" /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script type="text/javascript" async="async" id="MathJax-script" src="../cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>  
<meta name="description" content="The REDUCE Computer Algebra System User's Manual" /> 
</head><body 
>
<header>REDUCE</header><table cellspacing="5"><tr><td class="clinks"><a 
href="manual/manualch5.html#manualse17.html" >Up</a></td><td class="clinks"><a 
href="manual/manualse18.html" >Next</a></td><td class="clinks"><a 
href="manual/manualse16.html" >Prev</a></td><td class="clinks"><a 
href="manual/manualse16.html#tailmanualse16.html" >PrevTail</a></td><td class="clinks"><a 
href="manual-lookup.php%3FFOR&#32;Statements.html#tailmanualse17.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">5.4    </span> <a 
 id="x25-380005.4"></a>FOR Statements</h3>
<!--l. 212--><p class="noindent" ><a 
 id="command:FOR"></a> <a 
 id="command:FOREACH"></a> <a 
 id="reserved:IN"></a> <a 
 id="reserved:DO"></a> <a 
 id="reserved:SUM"></a> <a 
 id="reserved:PRODUCT"></a>
</p><!--l. 219--><p class="noindent" >The <span 
class="pcrr8t-x-x-109">for </span>statement<a 
 id="dx25-38001"></a><a 
 id="dx25-38002"></a> is used to deﬁne a variety of program loops<a 
 id="dx25-38003"></a>. Its general syntax is as
follows:<a 
 id="dx25-38004"></a> <a 
 id="dx25-38005"></a><a 
 id="dx25-38006"></a><a 
 id="dx25-38007"></a> <a 
 id="dx25-38008"></a><a 
 id="dx25-38009"></a> <a 
 id="dx25-38010"></a><a 
 id="dx25-38011"></a>  \[ \texttt {for}\ \left \{ \begin {array}{@{}c@{}} \langle \textit {var}\rangle \ \texttt {:=}\ \langle \textit {number}\rangle \\left \{ \begin {array}{@{}c@{}} \texttt {step}\ \langle \textit {number}\rangle \ \texttt {until} \\ \texttt {:} \end {array} \right \}\\langle \textit {number}\rangle \\[3mm] \texttt {each}\ \langle \textit {var}\rangle \\left \{ \begin {array}{@{}c@{}} \texttt {in} \\ \texttt {on} \end {array} \right \}\\langle \textit {list}\rangle \end {array} \right \}\ \langle \textit {action}\rangle \ \langle \textit {exprn}\rangle \]
where
  </p><div class="syntax">
   \(\langle \)<span 
class="ptmri8t-x-x-109">action</span>\(\rangle \) \(\longrightarrow \) <span 
class="pcrr8t-x-x-109">do</span>\(\ \mid \ \)<span 
class="pcrr8t-x-x-109">product</span>\(\ \mid \ \)<span 
class="pcrr8t-x-x-109">sum</span>\(\ \mid \ \)<span 
class="pcrr8t-x-x-109">collect</span>\(\ \mid \ \)<span 
class="pcrr8t-x-x-109">join</span>.</div>
<!--l. 253--><p class="noindent" >The assignment<a 
 id="dx25-38012"></a> form of the <span 
class="pcrr8t-x-x-109">for </span>statement deﬁnes an iteration over the indicated
numerical range. If expressions that do not evaluate to numbers are used in the
designated places, an error will result.
</p><!--l. 258--><p class="noindent" >The <span 
class="pcrr8t-x-x-109">for each</span><a 
 id="dx25-38013"></a> form of the <span 
class="pcrr8t-x-x-109">for </span>statement is designed to iterate down a list. Again, an
error will occur if a list is not used.
</p><!--l. 262--><p class="noindent" >The action <span 
class="pcrr8t-x-x-109">do</span><a 
 id="dx25-38014"></a> means that \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \) is simply evaluated and no value kept; the statement
returning 0 in this case (or no value at the top level). <span 
class="pcrr8t-x-x-109">collect </span>means that the results of
evaluating \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \) each time are linked together to make a list, and <span 
class="pcrr8t-x-x-109">join </span>means that the
values of \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \) are themselves lists that are joined to make one list (similar to <span 
class="pcrr8t-x-x-109">conc </span>in
Lisp). Finally, <span 
class="pcrr8t-x-x-109">product </span>and <span 
class="pcrr8t-x-x-109">sum </span>form the respective combined value out of the values
of \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \).
</p><!--l. 271--><p class="noindent" >In all cases, \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \) is evaluated algebraically within the scope of the current value
of \(\langle \)<span 
class="ptmri8t-x-x-109">var</span>\(\rangle \). If \(\langle \)<span 
class="ptmri8t-x-x-109">action</span>\(\rangle \) is <span 
class="pcrr8t-x-x-109">do</span><a 
 id="dx25-38015"></a>, then nothing else happens. In other cases, \(\langle \)<span 
class="ptmri8t-x-x-109">action</span>\(\rangle \) is a
binary operator that causes a result to be built up and returned by <span 
class="pcrr8t-x-x-109">for</span>. In those
cases, the loop<a 
 id="dx25-38016"></a> is initialized to a default value (<span 
class="pcrr8t-x-x-109">0 </span>for <span 
class="pcrr8t-x-x-109">sum1 </span>for <span 
class="pcrr8t-x-x-109">product</span>,
and an empty list for the other actions). The test for the end condition is made
before any action is taken. As in Pascal, if the variable is out of range in the
assignment case, or the \(\langle \)<span 
class="ptmri8t-x-x-109">list</span>\(\rangle \) is empty in the <span 
class="pcrr8t-x-x-109">for each</span><a 
 id="dx25-38017"></a> case, \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \) is not evaluated at
all.
</p><!--l. 283--><p class="noindent" ><span 
class="ptmri8t-x-x-109">Examples:</span>
     </p><ol  class="enumerate1" >
<li 
  class="enumerate" id="x25-38019x1">
     <!--l. 285--><p class="noindent" >If <span 
class="pcrr8t-x-x-109">a</span>, <span 
class="pcrr8t-x-x-109">b </span>have been declared to be arrays, the following stores \(5^{2}\) through \(10^{2}\) in
     <span 
class="pcrr8t-x-x-109">a(5) </span>through <span 
class="pcrr8t-x-x-109">a(10)</span>, and at the same time stores the cubes in the <span 
class="pcrr8t-x-x-109">b</span>
                                                                     

                                                                     
     array:
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-54">
         for i := 5 step 1 until 10 do
             &#x003C;&#x003C;a(i):=i^2; b(i):=i^3&#x003E;&#x003E;
</pre>
     <!--l. 291--><p class="nopar" >
     </p></li>
<li 
  class="enumerate" id="x25-38021x2">
     <!--l. 292--><p class="noindent" >As a convenience, the common construction
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-55">
             step 1 until
</pre>
     <!--l. 295--><p class="nopar" > may be abbreviated to a colon. Thus, instead of the above we could write:
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-56">
         for i := 5:10 do &#x003C;&#x003C;a(i):=i^2; b(i):=i^3&#x003E;&#x003E;
</pre>
     <!--l. 299--><p class="nopar" >
     </p></li>
<li 
  class="enumerate" id="x25-38023x3">
     <!--l. 300--><p class="noindent" >The following sets <span 
class="pcrr8t-x-x-109">c </span>to the sum of the squares of 1,3,5,7,9; and <span 
class="pcrr8t-x-x-109">d </span>to the expression
     <span 
class="pcrr8t-x-x-109">x*(x+1)*(x+2)*(x+3)*(x+4):</span>
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-57">
             c := for j:=1 step 2 until 9 sum j^2;
             d := for k:=0 step 1 until 4 product (x+k);
</pre>
     <!--l. 305--><p class="nopar" >
     </p></li>
<li 
  class="enumerate" id="x25-38025x4">
     <!--l. 306--><p class="noindent" >The following forms a list of the squares of the elements of the list <span 
class="pcrr8t-x-x-109">{a,b,c}:</span><a 
 id="dx25-38026"></a>
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-58">
             for each x in {a,b,c} collect x^2;
</pre>
     <!--l. 310--><p class="nopar" >
     </p></li>
<li 
  class="enumerate" id="x25-38028x5">
     <!--l. 311--><p class="noindent" >The following forms a list of the listed squares of the elements of the list
     <span 
class="pcrr8t-x-x-109">{a,b,c} </span>(i.e., <span 
class="pcrr8t-x-x-109">{{a^2},{b^2},{c^2}}):</span>
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-59">
             for each x in {a,b,c} collect {x^2};
</pre>
     <!--l. 316--><p class="nopar" >
     </p></li>
<li 
  class="enumerate" id="x25-38030x6">
     <!--l. 317--><p class="noindent" >The following also forms a list of the squares of the elements of the list
     <span 
class="pcrr8t-x-x-109">{a,b,c}, </span>since the <span 
class="pcrr8t-x-x-109">join </span>operation joins the individual lists into one
     list:<a 
 id="dx25-38031"></a>
                                                                     

                                                                     
</p>
     <pre class="verbatim" id="verbatim-60">
             for each x in {a,b,c} join {x^2};
</pre>
     <!--l. 322--><p class="nopar" ></p></li></ol>
<!--l. 324--><p class="noindent" >The control variable used in the <span 
class="pcrr8t-x-x-109">for </span>statement is actually a new variable, not related to
the variable of the same name outside the <span 
class="pcrr8t-x-x-109">for </span>statement. In other words, executing a
statement <span 
class="pcrr8t-x-x-109">for i:=</span>…doesn’t change the system’s assumption that \(i^{2} = -1\). Furthermore, in
algebraic mode, the value of the control variable is substituted in \(\langle \)<span 
class="ptmri8t-x-x-109">exprn</span>\(\rangle \) only if it occurs
explicitly in that expression. It will not replace a variable of the same name in the value
of that expression. For example:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-61">
        b := a; for a := 1:2 do write b;
</pre>
<!--l. 335--><p class="nopar" > prints <span 
class="pcrr8t-x-x-109">A </span>twice, not 1 followed by 2.
                                                                     

                                                                     
</p><!--l. 338--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="manual/manualch5.html#manualse17.html" >Up</a></td><td class="clinks"><a 
href="manual/manualse18.html" >Next</a></td><td class="clinks"><a 
href="manual/manualse16.html" >Prev</a></td><td class="clinks"><a 
href="manual/manualse16.html#tailmanualse16.html" >PrevTail</a></td><td class="clinks"><a 
href="manual-lookup.php%3FFOR&#32;Statements.html" >Front</a></td></tr></table><a 
 id="tailmanualse17.html"></a> <hr> <p style="font-family:sans-serif">Hosted by <a href="https://sourceforge.net/p/reduce-algebra/"> <img title="Download REDUCE" alt="Download REDUCE" style="vertical-align:middle" src="https://sourceforge.net/sflogo.php?type=16&amp;group_id=248416"/></a> <a href="https://www.mathjax.org"> <img title="Powered by MathJax" alt="Powered by MathJax" style="float:right" src="https://www.mathjax.org/badge/badge.gif"/></a></p></p> 
</body> 
</html>