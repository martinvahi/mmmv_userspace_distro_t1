<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Appendix: Standard LISP extensions</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="primer.tex"> 
<meta name="date" content="2014-05-02 18:12:00"> 
<link rel="stylesheet" type="text/css" href="primer.css"> 
</head><body 
>
   <table cellspacing="5"><tr><td class="clinks"><a 
href="primer.html#primerse9.html" >Up</a></td><td class="clinks"><a 
href="primerli1.html" >Next</a></td><td class="clinks"><a 
href="primerse8.html" >Prev</a></td><td class="clinks"><a 
href="primerse8.html#tailprimerse8.html" >PrevTail</a></td><td class="clinks"><a 
href="primerse9.html#tailprimerse9.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">9   </span> <a 
 id="x59-550009"></a>Appendix: Standard LISP extensions</h3>
<!--l. 2298--><p class="noindent" >The following typical LISP functions are defined in the <span 
class="cmtt-10x-x-109">support </span>module of the
<span 
class="cmtt-10x-x-109">rlisp </span>package.
<!--l. 2302--><p class="indent" >   <span 
class="cmtt-10x-x-109">atsoc</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">p</span>:alist)
<!--l. 2304--><p class="noindent" >Same as <span 
class="cmtt-10x-x-109">assoc</span>, but using the operator <span 
class="cmmi-10x-x-109">eq </span>instead of <span 
class="cmmi-10x-x-109">equal </span>for the search. <span 
class="cmmi-10x-x-109">atsoc</span>
can be applied only if the identity of the object to be searched for is guaranteed,
e.g.&#x00A0;for symbols. It is substantially faster than <span 
class="cmtt-10x-x-109">assoc</span>.
<!--l. 2311--><p class="indent" >   <span 
class="cmtt-10x-x-109">copyd</span>(<span 
class="cmmi-10x-x-109">u</span>:id,<span 
class="cmmi-10x-x-109">v</span>:id)
<!--l. 2313--><p class="noindent" >Copies the procedure definition of <span 
class="cmmi-10x-x-109">v </span>to the symbol <span 
class="cmmi-10x-x-109">u</span>. Afterwards the procedure
can be called by using the name <span 
class="cmmi-10x-x-109">u</span>. Frequently used for embedding a function,
e.g.&#x00A0;for implementing a private trace:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-67">
&#x00A0;&#x00A0;if&#x00A0;null&#x00A0;getd&#x00A0;&#8217;myprog_old&#x00A0;then&#x00A0;copyd(&#8217;myprog_old,&#8217;myprog);
&#x00A0;<br />&#x00A0;&#x00A0;symbolic&#x00A0;procedure&#x00A0;myprog(u);
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x003C;&#x003C;print&#x00A0;{"calling&#x00A0;myprog&#x00A0;with&#x00A0;parameter&#x00A0;",u};
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;myprog_old(u)&#x003E;&#x003E;
</div>
<!--l. 2323--><p class="nopar" >
<!--l. 2326--><p class="indent" >   <span 
class="cmtt-10x-x-109">eqcar</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2328--><p class="noindent" >Implements the frequently needed test <span 
class="cmti-10x-x-109">pairp u and car u eq v</span>.
<!--l. 2332--><p class="indent" >   <span 
class="cmtt-10x-x-109">listp</span>(<span 
class="cmmi-10x-x-109">u</span>:any)
<!--l. 2334--><p class="noindent" >Returns t if <span 
class="cmmi-10x-x-109">u </span>is a top level list ending with a <span 
class="cmmi-10x-x-109">nil</span>.
<!--l. 2338--><p class="indent" >   <span 
class="cmtt-10x-x-109">mkquote</span>(<span 
class="cmmi-10x-x-109">u</span>:any)
<!--l. 2340--><p class="noindent" >tags <span 
class="cmmi-10x-x-109">u </span>with a quote. This function is useful for cases where a LISP eval situation
is given, e.g.&#x00A0;for coding for an <span 
class="cmmi-10x-x-109">errorset </span>or for <span 
class="cmmi-10x-x-109">writepri</span>.
<!--l. 2346--><p class="indent" >   <span 
class="cmtt-10x-x-109">reversip</span>(<span 
class="cmmi-10x-x-109">u</span>:list)
<!--l. 2348--><p class="noindent" >Reverses the elements of <span 
class="cmmi-10x-x-109">l </span>in place - faster than <span 
class="cmmi-10x-x-109">reverse</span>, but desctroys the input
list.
<!--l. 2353--><p class="indent" >   <span 
class="cmtt-10x-x-109">smember</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2355--><p class="noindent" >Similar to <span 
class="cmmi-10x-x-109">member </span>this routine tests whether <span 
class="cmmi-10x-x-109">u </span>occurs in the structure <span 
class="cmmi-10x-x-109">v</span>,
however in an arbitrarily deep nesting. While <span 
class="cmmi-10x-x-109">member </span>tests only the top level
list, <span 
class="cmmi-10x-x-109">smember </span>descends down all branches of the tree.
<!--l. 2362--><p class="indent" >   <span 
class="cmtt-10x-x-109">smemq</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2364--><p class="noindent" >Same as <span 
class="cmmi-10x-x-109">smember</span>, however using <span 
class="cmmi-10x-x-109">eq </span>as test instead of <span 
class="cmmi-10x-x-109">equal</span>.
<!--l. 2368--><p class="noindent" >The following routines handle lists as sets (every element at most once):
<!--l. 2372--><p class="indent" >   <span 
class="cmtt-10x-x-109">union</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2374--><p class="indent" >   <span 
class="cmtt-10x-x-109">intersection</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2376--><p class="indent" >   <span 
class="cmtt-10x-x-109">setdiff</span>(<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2379--><p class="noindent" >The Standard LISP <span 
class="cmtt-10x-x-109">apply </span>function requires that the parameters for the function
to be applied are encoded as a list. For standard cases of 1,2 or 3 parameters the
                                                                     

                                                                     
following variants allow an easier encoding:
<!--l. 2385--><p class="indent" >   <span 
class="cmtt-10x-x-109">apply1</span>(<span 
class="cmmi-10x-x-109">u</span>:id,<span 
class="cmmi-10x-x-109">u</span>:any)
<!--l. 2387--><p class="indent" >   <span 
class="cmtt-10x-x-109">apply2</span>(<span 
class="cmmi-10x-x-109">u</span>:id,<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any)
<!--l. 2389--><p class="indent" >   <span 
class="cmtt-10x-x-109">apply3</span>(<span 
class="cmmi-10x-x-109">u</span>:id,<span 
class="cmmi-10x-x-109">u</span>:any,<span 
class="cmmi-10x-x-109">v</span>:any,<span 
class="cmmi-10x-x-109">w</span>:any)
                                                                     

                                                                     
   <table cellspacing="5"><tr><td class="clinks"><a 
href="primer.html#primerse9.html" >Up</a></td><td class="clinks"><a 
href="primerli1.html" >Next</a></td><td class="clinks"><a 
href="primerse8.html" >Prev</a></td><td class="clinks"><a 
href="primerse8.html#tailprimerse8.html" >PrevTail</a></td><td class="clinks"><a 
href="primerse9.html" >Front</a></td></tr></table><a 
 id="tailprimerse9.html"></a> <hr><p>Services provided by<br> <a href="http://sourceforge.net/">SourceForge</a> 
</body></html> 
