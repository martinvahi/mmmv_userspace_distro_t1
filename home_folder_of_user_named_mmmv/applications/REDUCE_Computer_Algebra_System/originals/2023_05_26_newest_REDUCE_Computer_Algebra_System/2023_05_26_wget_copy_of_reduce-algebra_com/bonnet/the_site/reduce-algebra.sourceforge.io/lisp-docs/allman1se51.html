<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Basic Error Handlers</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li11.html#allman1se51.html" >Up</a></td><td class="clinks"><a 
href="allman1se52.html" >Next</a></td><td class="clinks"><a 
href="allman1se50.html" >Prev</a></td><td class="clinks"><a 
href="allman1se50.html#tailallman1se50.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se51.html#tailallman1se51.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">12.3    </span> <a 
 id="x65-14500012.3"></a>Basic Error Handlers</h3>
<!--l. 129--><p class="noindent" ><div class="minipage"><a 
 id="dx65-145001"></a>
<span 
class="ptmb7t-x-x-120">(errset U:form *EMSGP:boolean): any                                                                  </span><span 
class="ptmri7t-x-x-120">macro</span>
<br 
class="newline" /><div class="minipage">Errset and errorset are the basic PSL error handler functions.
</div></div>
<!--l. 131--><p class="noindent" >If an error occurs during the evaluation of U, the value of number from the associated error call
is returned as the value of the errset. There are actually a couple of exceptions. If a continuable
error is continued by the user in the interactive break loop, no special return to errset is done.
Also if the user requests the computation to be aborted completely back to the top level no return
to errset is done.
<!--l. 140--><p class="noindent" >The boolean argument is evaluated without protection of the error handler. The fluid variable
*EMSGP is bound to the boolean value for the evaluation of the form. If the value of *EMSGP
is nil when an error occurs no error message is printed and no interactive break loop occurs. In
this case control must return to the innermost error handler except for the case of a fatal
error.
<!--l. 148--><p class="noindent" >If errset is returned to in the normal way, its value is a list of one element, the value of the form.
If errset is returned to via the error mechanism, its value is the error number of the error call that
caused the return.
<!--l. 155--><p class="noindent" ><div class="minipage"><a 
 id="dx65-145002"></a>
<span 
class="ptmb7t-x-x-120">(errorset U:any *EMSGP:boolean *BACKTRACE:boolean): any                        </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">
</div>
</div>This is an older function than errset. Errset is generally preferred.
<!--l. 159--><p class="noindent" >In most respects errorset behaves the same as errset. See the documentation of errset above.
Note that errorset is an expr, so U gets evaluated once as the parameter is passed and the result is
then evaluated inside errorset. Since errorset itself calls eval on its first argument there are likely
to be problems with compiled code that uses errorset.
<!--l. 166--><p class="noindent" >In addition to binding *EMSGP as errset does, errorset overrides the behavior usually specified
by the *BACKTRACE switch. The backtrace behavior of PSL errors during the execution of a
form inside an errorset error handler is determined by the second parameter to the
errorset.
<!--l. 172--><p class="noindent" >The following two switches and one global variable are used by the functions in this section.
Useage of any of these can be considered advanced.

<!--l. 184--><p class="noindent" ><div class="minipage"><a 
 id="dx65-145003"></a>
<span 
class="ptmb7t-x-x-120">*emsgp </span>= [Initially: t]                                                                                                   <span 
class="ptmri7t-x-x-120">fluid</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">Fluid  variable  rebound  by  errset  and  errorset.  Controls  error  message
printing during call on error. If nil, no error message will be printed and
no interactive break loop will be entered. If an unwind backtrace has been
requested through the backtrace flag or a call on errorset, one will be.</div>
</div>
<!--l. 191--><p class="noindent" ><div class="minipage"><a 
 id="dx65-145004"></a>
<span 
class="ptmb7t-x-x-120">emsg* </span>= [Initially: nil]                                                                                               <span 
class="ptmri7t-x-x-120">global</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">Contains the message generated by the last error call. Particularly useful in
case printing of the message was suppressed.</div>
</div>
<!--l. 198--><p class="noindent" ><div class="minipage"><a 
 id="dx65-145005"></a>
<span 
class="ptmb7t-x-x-120">*backtrace </span>= [Initially: nil]                                                                                       <span 
class="ptmri7t-x-x-120">switch</span>
<br 
class="newline" />&#x00A0;       &#x00A0;<div class="minipage">Used  by  the  top  level  read-eval-print  loop  to  control  whether  an  unwind
backtrace  will  be  printed  when  errors  occur  outside  the  scope  of  any
user-specified error handler.</div>
</div>

<!--l. 200--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li11.html#allman1se51.html" >Up</a></td><td class="clinks"><a 
href="allman1se52.html" >Next</a></td><td class="clinks"><a 
href="allman1se50.html" >Prev</a></td><td class="clinks"><a 
href="allman1se50.html#tailallman1se50.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se51.html" >Front</a></td></tr></table><a 
 id="tailallman1se51.html"></a>  
</body></html> 
