<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Variables and Bindings</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li7.html#allman1se27.html" >Up</a></td><td class="clinks"><a 
href="allman1se28.html" >Next</a></td><td class="clinks"><a 
href="allman1se26.html" >Prev</a></td><td class="clinks"><a 
href="allman1se26.html#tailallman1se26.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se27.html#tailallman1se27.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">8.3    </span> <a 
 id="x37-1000008.3"></a>Variables and Bindings</h3>
<!--l. 879--><p class="noindent" >Variables in PSL are ids, and associated values are usually stored in and retrieved from the value
cell of this id. If variables appear as parameters in lambda expressions or in prog&#8217;s, the contents
of the value cell are saved on a binding stack. A new value or nil is stored in the value cell and
the computation proceeds. On exit from the lambda or prog the old value is restored. This is
called the &#8221;shallow binding&#8221; model of LISP. It is chosen to permit compiled code to do binding
efficiently. For even more efficiency, compiled code may eliminate the variable names and
simply keep values in registers or a stack. The scope of a variable is the range over which
the variable has a defined value. There are three different binding mechanisms in
PSL.<br 
class="newline" />
<div class="tabular"><table id="TBL-7" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"><col 
id="TBL-7-2"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-1"  
class="td11">Local Binding </td><td  style="white-space:wrap; text-align:left;" id="TBL-7-1-2"  
class="td11"><!--l. 894--><p class="noindent" >Only compiled functions bind variables locally. Local variables
occur  as  formal  parameters  in  lambda  expressions  and  as  prog
form  variables.  The  binding  occurs  as  a  lambda  expression  is
evaluated  or  as  a  prog  form  is  executed.  The  scope  of  a  local
variable is the body of the function in which it is defined.             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-1"  
class="td11">Fluid Binding  </td><td  style="white-space:wrap; text-align:left;" id="TBL-7-2-2"  
class="td11"><!--l. 902--><p class="noindent" >Fluid  variables  are  global  in  scope  but  may  occur  as  formal
parameters  or  prog  form  variables.  In  interpreted  functions,  all
formal parameters and local variables are considered to have fluid
binding until changed to local binding by compilation. A variable
can  be  treated  as  a  fluid  only  by  declaration.  If  fluid  variables
are used as parameters or locals they are rebound in such a way
that the previous binding may be restored. All references to fluid
variables are to the currently active binding. Access to the values
is by name, going to the value cell.                                                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-1"  
class="td11">Global Binding</td><td  style="white-space:wrap; text-align:left;" id="TBL-7-3-2"  
class="td11"><!--l. 915--><p class="noindent" >In  theory  global  variables  may  never  be  used  as  parameters  in
lambda expressions or as prog variables. This restriction is not
enforced in PSL. You are encouraged not to declare an identifier
global  if  it  is  used  as  a  parameter  in  a  lambda  expression  or
prog.  For  more  information  see  the  Section  Fluid  and  Global
Declarations, Chapter 19.                                                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-1"  
class="td11">          </td></tr></table></div>
<h4 class="subsectionHead"><span class="titlemark">8.3.1    </span> <a 
 id="x37-1010008.3.1"></a>Binding Type Declaration</h4>

<!--l. 934--><p class="noindent" ><div class="minipage"><a 
 id="dx37-101001"></a>
<span 
class="ptmb7t-x-x-120">(fluid IDLIST:id-list): nil                                                                                             </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">The ids in IDLIST are declared as fluid type variables. An id which has not
been previously declared is initialized to nil. Variables in IDLIST already
declared fluid are ignored. It is an error to attempt to change the type of a
variable from global to fluid.</div>
</div>
<!--l. 937--><p class="noindent" ><span 
class="pcrr7t-x-x-120">&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6; ID cannot be changed to FLUID</span>
<!--l. 950--><p class="noindent" ><div class="minipage"><a 
 id="dx37-101002"></a>
<span 
class="ptmb7t-x-x-120">(global IDLIST:id-list): nil                                                                                          </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">The ids of IDLIST are declared global type variables. If an id has not been
previously declared, it is initialized to nil. Variables which have already been
declared global are ignored. Attempting to change the type of an id from
fluid to global will result in an error.<br 
class="newline" />
<!--l. 950--><p class="noindent" ><span 
class="pcrr7t-x-x-120">&#x22C6;&#x22C6;&#x22C6;&#x22C6;&#x22C6; ID cannot be changed to GLOBAL</span></div>
</div>
<!--l. 956--><p class="noindent" ><div class="minipage"><a 
 id="dx37-101003"></a>
<span 
class="ptmb7t-x-x-120">(unfluid IDLIST:id-list): nil                                                                                        </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">The variables in IDLIST which have been declared as fluid are no longer
considered fluid. Other variables are ignored.</div>
</div>
<h4 class="subsectionHead"><span class="titlemark">8.3.2    </span> <a 
 id="x37-1020008.3.2"></a>Binding Type Predicates</h4>
<!--l. 962--><p class="noindent" ><div class="minipage"><a 
 id="dx37-102001"></a>
<span 
class="ptmb7t-x-x-120">(fluidp U:id): boolean                                                                                                  </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">If U has been declared fluid then t is returned, otherwise nil is returned.
</div></div>
<!--l. 967--><p class="noindent" ><div class="minipage"><a 
 id="dx37-102002"></a>
<span 
class="ptmb7t-x-x-120">(globalp U:id): boolean                                                                                                </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">If U has been declared global then t is returned, otherwise nil is returned.
</div></div>

<!--l. 972--><p class="noindent" ><div class="minipage"><a 
 id="dx37-102003"></a>
<span 
class="ptmb7t-x-x-120">(unboundp U:id): boolean                                                                                           </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">If U does not have a value then t is returned, otherwise nil is returned.
</div></div>

<table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li7.html#allman1se27.html" >Up</a></td><td class="clinks"><a 
href="allman1se28.html" >Next</a></td><td class="clinks"><a 
href="allman1se26.html" >Prev</a></td><td class="clinks"><a 
href="allman1se26.html#tailallman1se26.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se27.html" >Front</a></td></tr></table><a 
 id="tailallman1se27.html"></a>   
</body></html> 
