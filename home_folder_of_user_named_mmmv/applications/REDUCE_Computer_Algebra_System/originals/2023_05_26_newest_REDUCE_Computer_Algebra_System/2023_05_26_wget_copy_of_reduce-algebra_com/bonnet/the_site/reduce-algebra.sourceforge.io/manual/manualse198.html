<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Communicating with Algebraic Mode</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="manual.css" /> 
<meta name="src" content="manual.tex" /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script type="text/javascript" async="async" id="MathJax-script" src="../../cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>  
<meta name="description" content="The REDUCE Computer Algebra System User's Manual" /> 
</head><body 
>
<header>REDUCE</header><table cellspacing="5"><tr><td class="clinks"><a 
href="manualch21.html#manualse198.html" >Up</a></td><td class="clinks"><a 
href="manualse199.html" >Next</a></td><td class="clinks"><a 
href="manualse197.html" >Prev</a></td><td class="clinks"><a 
href="manualse197.html#tailmanualse197.html" >PrevTail</a></td><td class="clinks"><a 
href="manualse198.html#tailmanualse198.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">21.9    </span> <a 
 id="x291-125600021.9"></a>Communicating with Algebraic Mode</h3>
<a 
 id="dx291-1256001"></a>
<!--l. 259--><p class="noindent" ><a 
 id="command:SHARE"></a>
</p><!--l. 261--><p class="noindent" >One of the principal motivations for a user of the algebraic facilities of REDUCE to learn
about symbolic mode<a 
 id="dx291-1256002"></a><a 
 id="dx291-1256003"></a> is that it gives one access to a wider range of techniques than is
possible in algebraic mode<a 
 id="dx291-1256004"></a><a 
 id="dx291-1256005"></a> alone. For example, if a user wishes to use parts of the system
deﬁned in the basic system source code, or reﬁne their algebraic code deﬁnitions to
make them more eﬃcient, then it is necessary to understand the source language
in fairly complete detail. Moreover, it is also necessary to know a little more
about the way REDUCE operates internally. Basically, REDUCE considers
expressions in two forms: preﬁx form, which follow the normal Lisp rules of function
composition, and so-called canonical form, which uses a completely diﬀerent
syntax.
</p><!--l. 274--><p class="noindent" >Once these details are understood, the most critical problem faced by a user is how to
make expressions and procedures communicate between symbolic and algebraic
mode. The purpose of this section is to teach a user the basic principles for
this.
</p><!--l. 279--><p class="noindent" >If one wants to evaluate an expression in algebraic mode, and then use that expression in
symbolic mode calculations, or vice versa, the easiest way to do this is to assign a
variable to that expression whose value is easily obtainable in both modes. To facilitate
this, a declaration <span 
class="pcrr8t-x-x-109">share</span><a 
 id="dx291-1256006"></a> is available. <span 
class="pcrr8t-x-x-109">share </span>takes a list of identiﬁers as argument, and
marks these variables as having recognizable values in both modes. The declaration may
be used in either mode.
</p><!--l. 287--><p class="noindent" >E.g.,
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1437">
        share x,y;
</pre>
<!--l. 290--><p class="nopar" > says that <span 
class="pcrr8t-x-x-109">x </span>and <span 
class="pcrr8t-x-x-109">y </span>will receive values to be used in both modes.
</p><!--l. 293--><p class="noindent" >If a <span 
class="pcrr8t-x-x-109">share </span>declaration is made for a variable with a previously assigned algebraic value,
that value is also made available in symbolic mode.
</p><!--l. 297--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">21.9.1    </span> <a 
 id="x291-125700021.9.1"></a>Passing Algebraic Mode Values to Symbolic Mode</h4>
<!--l. 299--><p class="noindent" >If one wishes to work with parts of an algebraic mode <a 
 id="dx291-1257001"></a>expression in symbolic mode,<a 
 id="dx291-1257002"></a> one
simply makes an assignment<a 
 id="dx291-1257003"></a> of a shared variable to the relevant expression in algebraic
mode. For example, if one wishes to work with <span 
class="pcrr8t-x-x-109">(a+b)^2</span>, one would say, in algebraic
mode:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1438">
        x := (a+b)^2;
</pre>
<!--l. 306--><p class="nopar" > assuming that <span 
class="pcrr8t-x-x-109">x </span>was declared shared as above. If we now change to symbolic mode and
say
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1439">
        x;
</pre>
<!--l. 311--><p class="nopar" > its value will be printed as a preﬁx form with the syntax:
  </p><div class="syntax">
   <span 
class="pcrr8t-x-x-109">(*sq</span> \(\langle \)<span 
class="ptmri8t-x-x-109">standard quotient</span>\(\rangle \)   <span 
class="pcrr8t-x-x-109">t)</span></div>
<!--l. 316--><p class="noindent" >This particular format reﬂects the fact that the algebraic mode processor currently likes to
transfer preﬁx forms from command to command, but doesn’t like to reconvert standard
forms<a 
 id="dx291-1257004"></a> (which represent polynomials) and standard quotients back to a true Lisp
preﬁx form for the expression (which would result in excessive computation).
So <span 
class="pcrr8t-x-x-109">*sq </span>is used to tell the algebraic processor that it is dealing with a preﬁx
form which is really a standard quotient<a 
 id="dx291-1257005"></a> and the second argument (<span 
class="pcrr8t-x-x-109">t </span>or <span 
class="pcrr8t-x-x-109">nil</span>)
tells it whether it needs further processing (essentially, an <span 
class="ptmri8t-x-x-109">already simpliﬁed</span>
ﬂag).
</p><!--l. 327--><p class="noindent" >So to get the true standard quotient form in symbolic mode, one needs <span 
class="pcrr8t-x-x-109">cadr </span>of the
variable. E.g.,
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1440">
        z := cadr x;
</pre>
<!--l. 331--><p class="nopar" > would store in <span 
class="pcrr8t-x-x-109">Z </span>the standard quotient form for <span 
class="pcrr8t-x-x-109">(a+b)^2</span>.
</p><!--l. 335--><p class="noindent" >Once you have this expression, you can now manipulate it as you wish. To facilitate this,
a standard set of selectors<a 
 id="dx291-1257006"></a> and constructors<a 
 id="dx291-1257007"></a> are available for getting at parts of the form.
Those presently deﬁned are as follows:
     </p><dl class="description"><dt class="description">
     <!--l. 343--><p class="noindent" >
<span 
class="ptmb8t-x-x-109">REDUCE Selectors</span> </p></dt><dd 
class="description">
     <!--l. 343--><p class="noindent" > <!--tex4ht:inline--></p><div class="tabular"> <table id="TBL-223" class="tabular" 
 
><colgroup id="TBL-223-1g"><col 
id="TBL-223-1" /><col 
id="TBL-223-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-223-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-1-1"  
class="td11"><span 
class="pcrr8t-x-x-109">denr</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-1-2"  
class="td11"><!--l. 348--><p class="noindent" >denominator of standard quotient               </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-2-1"  
class="td11"><span 
class="pcrr8t-x-x-109">lc  </span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-2-2"  
class="td11"><!--l. 350--><p class="noindent" >leading coeﬃcient of polynomial                </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-3-1"  
class="td11"><span 
class="pcrr8t-x-x-109">ldeg</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-3-2"  
class="td11"><!--l. 352--><p class="noindent" >leading degree of polynomial                      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-4-1"  
class="td11"><span 
class="pcrr8t-x-x-109">lpow</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-4-2"  
class="td11"><!--l. 354--><p class="noindent" >leading power of polynomial                      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-5-1"  
class="td11"><span 
class="pcrr8t-x-x-109">lt  </span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-5-2"  
class="td11"><!--l. 356--><p class="noindent" >leading term of polynomial                         </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-6-1"  
class="td11"><span 
class="pcrr8t-x-x-109">mvar</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-6-2"  
class="td11"><!--l. 358--><p class="noindent" >main variable of polynomial                       </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-7-1"  
class="td11"><span 
class="pcrr8t-x-x-109">numr</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-7-2"  
class="td11"><!--l. 360--><p class="noindent" >numerator (of standard quotient)                 </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-8-1"  
class="td11"><span 
class="pcrr8t-x-x-109">pdeg</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-8-2"  
class="td11"><!--l. 362--><p class="noindent" >degree of a power                                        </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-9-1"  
class="td11"><span 
class="pcrr8t-x-x-109">red </span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-9-2"  
class="td11"><!--l. 364--><p class="noindent" >reductum of polynomial                              </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-10-1"  
class="td11"><span 
class="pcrr8t-x-x-109">tc  </span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-10-2"  
class="td11"><!--l. 366--><p class="noindent" >coeﬃcient of a term                                    </p></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-223-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-11-1"  
class="td11"><span 
class="pcrr8t-x-x-109">tdeg </span></td> <td  style="white-space:normal; text-align:left;" id="TBL-223-11-2"  
class="td11"><!--l. 368--><p class="noindent" >degree of a term</p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-223-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-223-12-1"  
class="td11"><span 
class="pcrr8t-x-x-109">tpow</span></td><td  style="white-space:normal; text-align:left;" id="TBL-223-12-2"  
class="td11"><!--l. 370--><p class="noindent" >power of a term                                           </p></td></tr></table>
     </div>
                                                                     

                                                                     
     </dd><dt class="description">
     <!--l. 374--><p class="noindent" >
<span 
class="ptmb8t-x-x-109">REDUCE Constructors</span> </p></dt><dd 
class="description">
     <!--l. 374--><p class="noindent" ><br 
class="newline" /><!--tex4ht:inline--></p><div class="tabular"> <table id="TBL-224" class="tabular" 
 
><colgroup id="TBL-224-1g"><col 
id="TBL-224-1" /><col 
id="TBL-224-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-224-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-224-1-1"  
class="td11"><span 
class="pcrr8t-x-x-109">.+</span></td><td  style="white-space:normal; text-align:left;" id="TBL-224-1-2"  
class="td11"><!--l. 377--><p class="noindent" >add a term to a polynomial                                                 </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-224-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-224-2-1"  
class="td11"><span 
class="pcrr8t-x-x-109">./</span></td><td  style="white-space:normal; text-align:left;" id="TBL-224-2-2"  
class="td11"><!--l. 379--><p class="noindent" >divide (two polynomials to get quotient)                            </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-224-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-224-3-1"  
class="td11"><span 
class="pcrr8t-x-x-109">.*</span></td><td  style="white-space:normal; text-align:left;" id="TBL-224-3-2"  
class="td11"><!--l. 380--><p class="noindent" >multiply power by coeﬃcient to produce term                   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-224-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-224-4-1"  
class="td11"><span 
class="pcrr8t-x-x-109">.^</span></td><td  style="white-space:normal; text-align:left;" id="TBL-224-4-2"  
class="td11"><!--l. 382--><p class="noindent" >raise a variable to a power                                                   </p></td></tr></table>
     </div></dd></dl>
<!--l. 386--><p class="noindent" >For example, to ﬁnd the numerator of the standard quotient above, one could
say:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1441">
        numr z;
</pre>
<!--l. 390--><p class="nopar" > or to ﬁnd the leading term of the numerator:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1442">
        lt numr z;
</pre>
<!--l. 394--><p class="nopar" > Conversion between various data structures is facilitated by the use of a set of functions
deﬁned for this purpose. Those currently implemented include:
</p>
<div class="tabular"> <table id="TBL-225" class="tabular" 
 
><colgroup id="TBL-225-1g"><col 
id="TBL-225-1" /><col 
id="TBL-225-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-225-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-1-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*a2f </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-1-2"  
class="td11"><!--l. 401--><p class="noindent" >convert  an  algebraic  expression  to  a  standard  form.  If  result  is
rational, an error results;                                                                  </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-2-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*a2k </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-2-2"  
class="td11"><!--l. 404--><p class="noindent" >converts an algebraic expression to a kernel. If this is not possible,
an error results;                                                                                </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-3-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*f2a </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-3-2"  
class="td11"><!--l. 407--><p class="noindent" >converts a standard form to an algebraic expression;                      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-4-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*f2q </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-4-2"  
class="td11"><!--l. 410--><p class="noindent" >convert a standard form to a standard quotient;                               </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-5-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*k2f </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-5-2"  
class="td11"><!--l. 413--><p class="noindent" >convert a kernel to a standard form;                                                 </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-6-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*k2q </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-6-2"  
class="td11"><!--l. 414--><p class="noindent" >convert a kernel to a standard quotient;                                           </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-7-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*kk2f</span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-7-2"  
class="td11"><!--l. 416--><p class="noindent" >convert a non-unique kernel to a standard form;                              </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-8-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*kk2q</span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-8-2"  
class="td11"><!--l. 417--><p class="noindent" >convert a non-unique kernel to a standard quotient;                        </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-9-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*p2f </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-9-2"  
class="td11"><!--l. 419--><p class="noindent" >convert a standard power to a standard form;                                  </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-10-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*n2f </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-10-2"  
class="td11"><!--l. 422--><p class="noindent" >convert a number to a standard form;                                               </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-11-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*p2q </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-11-2"  
class="td11"><!--l. 425--><p class="noindent" >convert a standard power to a standard quotient;                             </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-12-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*q2f </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-12-2"  
class="td11"><!--l. 427--><p class="noindent" >convert  a  standard  quotient  to  a  standard  form.  If  the  quotient
denominator is not 1, an error results;                                             </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-13-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-13-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*q2k </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-13-2"  
class="td11"><!--l. 430--><p class="noindent" >convert a standard quotient to a kernel. If this is not possible, an
error results;                                                                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-14-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-14-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*t2f </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-14-2"  
class="td11"><!--l. 433--><p class="noindent" >convert a standard term to a standard form                                      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-225-15-"><td  style="white-space:nowrap; text-align:left;" id="TBL-225-15-1"  
class="td11"><span 
class="pcrr8t-x-x-109">!*t2q </span></td><td  style="white-space:normal; text-align:left;" id="TBL-225-15-2"  
class="td11"><!--l. 435--><p class="noindent" >convert a standard term to a standard quotient.                                </p></td>
</tr></table></div>
<!--l. 438--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">21.9.2    </span> <a 
 id="x291-125800021.9.2"></a>Passing Symbolic Mode Values to Algebraic Mode</h4>
<!--l. 440--><p class="noindent" >In order to pass the value of a shared variable from symbolic mode to algebraic mode, the
only thing to do is make sure that the value in symbolic mode is a preﬁx expression. E.g.,
one uses <span 
class="pcrr8t-x-x-109">(expt (plus a b) 2) </span>for <span 
class="pcrr8t-x-x-109">(a+b)^2</span>, or the format (<span 
class="pcrr8t-x-x-109">*sq</span> \(\langle \)<span 
class="pcrro8t-x-x-109">standard</span>
<span 
class="pcrro8t-x-x-109">quotient</span>\(\rangle \) <span 
class="pcrr8t-x-x-109">t</span>) as described above. However, if you have been working with parts of a
standard form they will probably not be in this form. In that case, you can do the
following:
     </p><ol  class="enumerate1" >
<li 
  class="enumerate" id="x291-1258002x1">
     <!--l. 448--><p class="noindent" >If  it  is  a  standard  quotient,  call  <span 
class="pcrr8t-x-x-109">prepsq </span>on  it.  This  takes  a  standard
                                                                     

                                                                     
     quotient  as  argument,  and  returns  a  preﬁx  expression.  Alternatively,  you
     can call <span 
class="pcrr8t-x-x-109">mk!*sq </span>on it, which returns a preﬁx form like (<span 
class="pcrr8t-x-x-109">*sq</span> \(\langle \)<span 
class="pcrro8t-x-x-109">standard</span>
     <span 
class="pcrro8t-x-x-109">quotient</span>\(\rangle \) <span 
class="pcrr8t-x-x-109">t) </span>and avoids translation of the expression into a true preﬁx
     form.
     </p></li>
<li 
  class="enumerate" id="x291-1258004x2">
     <!--l. 454--><p class="noindent" >If  it  is  a  standard  form,  call  <span 
class="pcrr8t-x-x-109">prepf </span>on  it.  This  takes  a  standard  form  as
     argument,  and  returns  the  equivalent  preﬁx  expression.  Alternatively,  you
     can convert it to a standard quotient and then call <span 
class="pcrr8t-x-x-109">mk!*sq</span>.
     </p></li>
<li 
  class="enumerate" id="x291-1258006x3">
     <!--l. 459--><p class="noindent" >If it is a part of a standard form, you must usually ﬁrst build up a standard form out
     of it, and then go to step 2. The conversion functions described earlier may be used
     for this purpose. For example,
          </p><ol  class="enumerate2" >
<li 
  class="enumerate" id="x291-1258008x1">
          <!--l. 463--><p class="noindent" >If <span 
class="pcrr8t-x-x-109">z </span>is an expression which is a term, <span 
class="pcrr8t-x-x-109">!*t2f z </span>is a standard form.
          </p></li>
<li 
  class="enumerate" id="x291-1258010x2">
          <!--l. 465--><p class="noindent" >If <span 
class="pcrr8t-x-x-109">z </span>is a standard power, <span 
class="pcrr8t-x-x-109">!*p2f z </span>is a standard form.
          </p></li>
<li 
  class="enumerate" id="x291-1258012x3">
          <!--l. 466--><p class="noindent" >If <span 
class="pcrr8t-x-x-109">z </span>is a variable, you can pass it direct to algebraic mode.</p></li></ol>
     </li></ol>
<!--l. 469--><p class="noindent" >For example, to pass the leading term of <span 
class="pcrr8t-x-x-109">(a+b)^2 </span>back to algebraic mode, one could
say:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1443">
        y:= mk!*sq !*t2q lt numr z;
</pre>
<!--l. 473--><p class="nopar" > where <span 
class="pcrr8t-x-x-109">y </span>has been declared shared as above. If you now go back to algebraic mode, you
can work with <span 
class="pcrr8t-x-x-109">y </span>in the usual way.
</p><!--l. 478--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">21.9.3    </span> <a 
 id="x291-125900021.9.3"></a>Complete Example</h4>
<!--l. 480--><p class="noindent" >The following is the complete code for doing the above steps. The end result will be that
the square of the leading term of \((a+b)^{2}\) is calculated.
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1444">
share x,y;                   % declare X and Y as shared
x := (a+b)^2;                % store (a+b)^2 in X
symbolic;                    % transfer to symbolic mode
z := cadr x;                 % store a true standard quotient
                             % in Z
lt numr z;                   % print the leading term of the
                             % numerator of Z
y := mk!*sq !*t2q lt numr z; % store the prefix form of this
                             % leading term in Y
algebraic;                   % return to algebraic mode
y^2;                         % evaluate square of the
                             % leading term of (a+b)^2
</pre>
<!--l. 513--><p class="nopar" >
</p><!--l. 515--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">21.9.4    </span> <a 
 id="x291-126000021.9.4"></a>Deﬁning Procedures for Intermode Communication</h4>
<!--l. 517--><p class="noindent" >If one wishes to deﬁne a procedure in symbolic mode for use as an operator in algebraic
mode, it is necessary to declare this fact to the system by using the declaration
<span 
class="pcrr8t-x-x-109">operator</span><a 
 id="dx291-1260001"></a> in symbolic mode. Thus
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1445">
        symbolic operator leadterm;
</pre>
<!--l. 523--><p class="nopar" > would declare the procedure <span 
class="pcrr8t-x-x-109">leadterm </span>as an algebraic operator. This declaration <span 
class="ptmri8t-x-x-109">must</span>
be made in symbolic mode as the eﬀect in algebraic mode is diﬀerent. The value of such
a procedure must be a preﬁx form.
</p><!--l. 528--><p class="noindent" >The algebraic processor will pass arguments to such procedures in preﬁx form. Therefore
if you want to work with the arguments as standard quotients you must ﬁrst convert them
to that form by using the function <span 
class="pcrr8t-x-x-109">SIMP!*</span>. This function takes a preﬁx form as
argument and returns the evaluated standard quotient.
</p><!--l. 534--><p class="noindent" >For example, if you want to deﬁne a procedure <span 
class="pcrr8t-x-x-109">leadterm </span>which gives the leading term
of an algebraic expression, one could do this as follows:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-1446">
symbolic operator leadterm; % Declare leadterm as a symbolic
                            % mode procedure to be used in
                            % algebraic mode.

symbolic procedure leadterm u; % Define leadterm.
   mk!*sq !*t2q lt numr simp!* u;
</pre>
<!--l. 544--><p class="nopar" >
Note that this operator has a diﬀerent eﬀect than the operator <span 
class="pcrr8t-x-x-109">lterm</span><a 
 id="dx291-1260002"></a>. In the latter case,
the calculation is done with respect to the second argument of the operator. In the
example here, we simply extract the leading term with respect to the system’s choice of
main variable.
</p><!--l. 552--><p class="noindent" >Finally, if you wish to use the algebraic evaluator on an argument in a symbolic mode
deﬁnition, the function <span 
class="pcrr8t-x-x-109">reval </span>can be used. The one argument of <span 
class="pcrr8t-x-x-109">reval </span>must be the
preﬁx form of an expression. <span 
class="pcrr8t-x-x-109">reval </span>returns the evaluated expression as a true Lisp
preﬁx form.
                                                                     

                                                                     
                                                                     

                                                                     
                                                                     

                                                                     
</p><!--l. 1--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="manualch21.html#manualse198.html" >Up</a></td><td class="clinks"><a 
href="manualse199.html" >Next</a></td><td class="clinks"><a 
href="manualse197.html" >Prev</a></td><td class="clinks"><a 
href="manualse197.html#tailmanualse197.html" >PrevTail</a></td><td class="clinks"><a 
href="manualse198.html" >Front</a></td></tr></table><a 
 id="tailmanualse198.html"></a>  <hr> <p style="font-family:sans-serif">Hosted by <a href="https://sourceforge.net/p/reduce-algebra/"> <img title="Download REDUCE" alt="Download REDUCE" style="vertical-align:middle" src="https://sourceforge.net/sflogo.php?type=16&amp;group_id=248416"/></a> <a href="https://www.mathjax.org"> <img title="Powered by MathJax" alt="Powered by MathJax" style="float:right" src="https://www.mathjax.org/badge/badge.gif"/></a></p></p> 
</body> 
</html>