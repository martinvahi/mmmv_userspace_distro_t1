<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Properties, Flags</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="primer.tex"> 
<meta name="date" content="2014-05-02 18:12:00"> 
<link rel="stylesheet" type="text/css" href="primer.css"> 
</head><body 
>
   <table cellspacing="5"><tr><td class="clinks"><a 
href="primerse2.html#primersu10.html" >Up</a></td><td class="clinks"><a 
href="primersu11.html" >Next</a></td><td class="clinks"><a 
href="primersu9.html" >Prev</a></td><td class="clinks"><a 
href="primersu9.html#tailprimersu9.html" >PrevTail</a></td><td class="clinks"><a 
href="primersu10.html#tailprimersu10.html">Tail</a></td></tr></table><h4 class="subsectionHead"><span class="titlemark">2.10   </span> <a 
 id="x19-130002.10"></a>Properties, Flags</h4>
<!--l. 848--><p class="noindent" >Another important concept of LISP is the ability to assign <span 
class="cmtt-10x-x-109">properties</span><a 
 id="dx19-13001"></a> and
<span 
class="cmtt-10x-x-109">flags</span><a 
 id="dx19-13002"></a> to each symbol. A <span 
class="cmtt-10x-x-109">property </span>is a symbol (a &#8220;name&#8221;) together
with a value. Both, property name and property value are completely
free. Properties are set by the function <span 
class="cmtt-10x-x-109">put</span> <a 
 id="dx19-13003"></a>and read by the function
<span 
class="cmtt-10x-x-109">get</span><a 
 id="dx19-13004"></a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-26">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;put(&#8217;hugo,&#8217;evaluator,&#8217;compute_hugo);
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;.&#x00A0;.&#x00A0;.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;get(&#8217;hugo,&#8217;evaluator)&#x00A0;=&#x003E;&#x00A0;compute_hugo
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;get(&#8217;otto,&#8217;evaluator)&#x00A0;=&#x003E;&#x00A0;nil
</div>
<!--l. 860--><p class="nopar" > A property-value pair remains assigned for a symbol until the value is replaced
by a different value or until the property is removed by <span 
class="cmtt-10x-x-109">remprop</span><a 
 id="dx19-13005"></a>.
<!--l. 865--><p class="indent" >   A <span 
class="cmtt-10x-x-109">flag </span>is similar to a property, but it represents only the values &#8220;yes&#8221; or
&#8220;no&#8221; (= flag is present or absent). The functions for setting and testing flags are
<span 
class="cmtt-10x-x-109">flag</span><a 
 id="dx19-13006"></a> and <span 
class="cmtt-10x-x-109">flagp</span><a 
 id="dx19-13007"></a>, <span 
class="cmtt-10x-x-109">remflag</span><a 
 id="dx19-13008"></a> for removal.
<!--l. 871--><p class="indent" >   As most other LISP programs, <span 
class="cmr-10">REDUCE </span>makes extensive use of properties.
E.g.&#x00A0;the algebraic properties of an operator are encoded in that way. So the symbol
<span 
class="cmmi-10x-x-109">plus </span>has among others the <span 
class="cmr-10">REDUCE </span>properties <span 
class="cmmi-10x-x-109">prtch </span>= + (the print character),
<span 
class="cmmi-10x-x-109">infix </span>= 26<span class="footnote-mark"><a 
href="primer20.html#fn7x0"><sup class="textsuperscript">7</sup></a></span><a 
 id="x19-13009f7"></a> 
(the precedence among the infix operators), <span 
class="cmmi-10x-x-109">simpfn </span>= <span 
class="cmmi-10x-x-109">simpplus </span>(the name of the
routine responsible for its simplification) and the flags <span 
class="cmmi-10x-x-109">symmetric</span>, <span 
class="cmmi-10x-x-109">realvalued</span>,
<span 
class="cmmi-10x-x-109">nary </span>and some more. These allow a data driven programming model which has
been used in the LISP world for decades already: if the simplifier operates on an
expression, it asks the leading operator for its simplification function; if there is
one (and there will be one for all operators), this function is invoked to do the
job.
<!--l. 886--><p class="indent" >   There are various fields where this type of programming is used inside
<span 
class="cmr-10">REDUCE</span>, e.g.&#x00A0;the complete domain arithmetic has been implemented in
that way: any non-integer domain element is encoded as a list with a
leading symbol (the domain mode) which contains all knowledge about
arithmetic, conversion, printing etc.&#x00A0;for this domain as properties and
flags.
<!--l. 893--><p class="indent" >   If your <span 
class="cmr-10">REDUCE </span>system is based on PSL, you can inspect a property list by
calling the function <span 
class="cmmi-10x-x-109">prop</span><a 
 id="dx19-13010"></a> which has one argument (the symbol to be inspected)
and which returns the properties and flags as list. E.g.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-27">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;a&#x00A0;:=&#x00A0;mat((1,2),(3,4));
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prop&#x00A0;&#8217;a;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prop&#x00A0;&#8217;mat;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prop&#x00A0;&#8217;matrix;
</div>
<!--l. 902--><p class="nopar" >
                                                                     

                                                                     
<!--l. 905--><p class="indent" >   <table cellspacing="5"><tr><td class="clinks"><a 
href="primerse2.html#primersu10.html" >Up</a></td><td class="clinks"><a 
href="primersu11.html" >Next</a></td><td class="clinks"><a 
href="primersu9.html" >Prev</a></td><td class="clinks"><a 
href="primersu9.html#tailprimersu9.html" >PrevTail</a></td><td class="clinks"><a 
href="primersu10.html" >Front</a></td></tr></table><a 
 id="tailprimersu10.html"></a>  
</body></html> 
