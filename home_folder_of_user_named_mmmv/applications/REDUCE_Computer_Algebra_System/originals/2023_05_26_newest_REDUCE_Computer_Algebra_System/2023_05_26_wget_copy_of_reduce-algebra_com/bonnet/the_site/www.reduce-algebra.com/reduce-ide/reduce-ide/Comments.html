<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This manual is for REDUCE IDE (version 1.10, updated
Time-stamp: <2022-12-14 15:40:10 franc>), which provides GNU Emacs major modes for editing and
running REDUCE source code.

Copyright (C) 1994, 1996, 1999, 2012, 2017-2018, 2022 Francis J. Wright

This manual and the software that it describes are subject to the GNU
General Public License that is distributed with GNU Emacs - see the
file COPYING.

Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.

Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying and provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.

Permission is granted to copy and distribute translations of this manual
into another language, under the above conditions for modified
versions. -->
<title>Comments (GNU Emacs REDUCE Integrated Development Environment)</title>

<meta name="description" content="Comments (GNU Emacs REDUCE Integrated Development Environment)">
<meta name="keywords" content="Comments (GNU Emacs REDUCE Integrated Development Environment)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Command-Index.html" rel="index" title="Command Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="Indentation.html" rel="next" title="Indentation">
<link href="Procedures.html" rel="prev" title="Procedures">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="chapter" id="Comments">
<div class="header">
<p>
Next: <a href="Indentation.html" accesskey="n" rel="next">Indenting REDUCE code automatically</a>, Previous: <a href="Procedures.html" accesskey="p" rel="prev">Procedure-oriented commands</a>, Up: <a href="index.html" accesskey="u" rel="up">REDUCE Integrated Development Environment</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Support-for-REDUCE-comments"></span><h2 class="chapter">6 Support for REDUCE comments</h2>
<span id="index-Comment-support"></span>

<p>There are three comment conventions used in REDUCE.  One is the
comment statement, which is a statement that begins with the keyword
<code>comment</code> and ends with a statement terminator.  This is not used
much in modern REDUCE code.  The most commonly used form of comment
begins with a <code>%</code> character and ends at the end of the line.
Hence, it can appear either on its own on a line or at the end of a
line after other code.  C-style comments, which begin with <code>/*</code>
and end with <code>*/</code>, are also accepted although not (yet) widely
used.  REDUCE mode highlights them all as comments.
</p>
<p>Comments are ignored (skipped) by all syntax-directed commands.  (This
is not trivial to achieve, since comments can contain essentially
arbitrary text including keywords, and <code>%</code> and <code>/**/</code>
comments can contain statement terminators that do not have any
syntactic significance.)  There is currently no way to use any of the
REDUCE syntax-directed commands on comment statements.
</p>
<p>The REDUCE mode indentation and fill commands support all three
comment types, but there is no other support for comment statements or
<code>/**/</code> comments.  There is considerably more support for
%-comments, much of which is already built into Emacs because
%-comments are very similar to the comments used in Emacs Lisp.
Indeed, the comment conventions supported by REDUCE mode are modelled
primarily on those used in Emacs Lisp mode.
</p>
<p>The comment commands are intimately related to the automatic comment
indentation conventions.  (These are the indentation conventions
enforced by the Emacs comment and indentation commands, although the
user is not otherwise forced to follow them.)  See <a href="Indentation.html">Indenting REDUCE code automatically</a>.
</p>
<p>The indentation of a <code>%</code>-comment that begins with no more than 2
<code>%</code> characters together and appears alone on a line is determined
by the previous non-blank line.  If this is a procedure (header)
statement then the comment line is indented relative to it, otherwise
it has no indent relative to the previous line, and at the beginning
of a file it is not indented at all.  A <code>%</code>-comment at the end of
a line of code is indented to the column specified by the value of the
standard Emacs buffer-local variable <code>comment-column</code>, which by
default is 40 (half way across a &ldquo;standard&rdquo; 80 column page), unless
the code extends beyond this column.  In that case, the comment begins
one space later.
</p>
<p>This convention can be over-ridden as follows.  If the comment begins
with 3 or more <code>%</code> characters then the comment indentation is not
changed.  This allows a comment to be placed anywhere on an empty line
without any risk of it being automatically re-indented.
</p>
<p>A new single-<code>%</code>-comment can be introduced and/or automatically
indented by the standard Emacs command <code>comment-dwim</code>, normally
bound to the key <kbd>M-;</kbd>.  An existing <code>%</code>-comment can be
automatically continued on the next line by the standard Emacs command
<code>default-indent-new-line</code>, normally bound to the keys <kbd>M-j</kbd>
and <kbd>C-M-j</kbd>.  This will copy the structure of the <code>%</code>-comment
to be continued, including the number of <code>%</code> characters and the
indentation.  All other indentation commands will also indent
<code>%</code>-comments, in particular those bound to the <kbd><span class="key">TAB</span></kbd>
and <kbd><span class="key">BACKTAB</span></kbd> (i.e. <kbd>S-<span class="key">TAB</span></kbd>) keys.
See <a href="Indentation.html">Indenting REDUCE code automatically</a>.
</p>
<dl compact="compact">
<dt id='index-comment_002ddwim'><span><kbd>M-;</kbd><a href='Comments.html#index-comment_002ddwim' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-M_002d_003b"></span>
</dd>
<dt><span><kbd>M-x comment-dwim</kbd></span></dt>
<dd><p>Indent this line&rsquo;s comment appropriately, or insert an empty comment.
</p>
</dd>
<dt id='index-C_002dM_002dj'><span><kbd>C-M-j</kbd><a href='Comments.html#index-C_002dM_002dj' class='copiable-anchor'> &para;</a></span></dt>
<dt id='index-default_002dindent_002dnew_002dline'><span><kbd>M-j</kbd><a href='Comments.html#index-default_002dindent_002dnew_002dline' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-M_002dj"></span>
</dd>
<dt><span><kbd>M-x default-indent-new-line</kbd></span></dt>
<dd><p>Break the line at point and indent, continuing a comment if presently
within one.  The body of the continued comment is indented under the
previous comment line.
</p></dd>
</dl>

<p>The only program text that it normally makes sense to fill or justify
is comment text.  Hence, REDUCE mode rebinds the key <kbd>M-q</kbd> that
normally fills or justifies a paragraph to the command
<code>reduce-fill-comment</code>.  This should be completely safe to use in
REDUCE code (unlike <code>fill-paragraph</code> etc., which would be a
potential disaster were there no undo facility!), and makes it easy to
keep comments formatted tidily.
</p>
<dl compact="compact">
<dt id='index-reduce_002dfill_002dcomment'><span><kbd>M-q</kbd><a href='Comments.html#index-reduce_002dfill_002dcomment' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-M_002dq"></span>
</dd>
<dt><span><kbd>M-x reduce-fill-comment</kbd></span></dt>
<dd><p>Fill a comment statement, successive <code>%</code>-comment lines or a
<code>/**/</code> comment around or immediately following point.  A prefix
argument means justify as well.
</p></dd>
</dl>

<p>REDUCE mode also provides commands for turning sections of text into
<code>%</code>-comments by adding <code>%</code> characters at the start of each
line, which will be referred to as &ldquo;start-comments&rdquo;.  These commands
are intended primarily for temporarily preventing REDUCE from
executing sections of code without actually removing them.  Such a
section can be either the current region or the procedure ending after
point.  By default, these commands automatically toggle the comment
status.  When given an interactive argument, they remove any
start-commenting of the specified section of text if the argument is
negative (or null) and insert start-commenting if the argument is
positive.  The precise text that is added to or removed from each line
is the value of the variable <code>reduce-comment-region-string</code>,
which defaults to &lsquo;<samp>%% </samp>&rsquo;.
</p>
<dl compact="compact">
<dt id='index-reduce_002dcomment_002dregion'><span><kbd>C-c ;</kbd><a href='Comments.html#index-reduce_002dcomment_002dregion' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-C_002dc-_003b"></span>
</dd>
<dt><span><kbd>M-x reduce-comment-region</kbd></span></dt>
<dd><p>Comment/uncomment every line in the region.  By default, it toggles
the commenting, i.e. it comments the region if it is uncommented and
uncomments if it is commented.  With an interactive argument, comment
if non-negative, uncomment if null or negative (cf. toggling minor
modes).  When commenting, it puts the value of the variable
<code>reduce-comment-region-string</code> at the beginning of every line in
the region.
</p>
</dd>
<dt id='index-reduce_002dcomment_002dprocedure'><span><kbd>C-c :</kbd><a href='Comments.html#index-reduce_002dcomment_002dprocedure' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-C_002dc-_003a"></span>
</dd>
<dt><span><kbd>M-x reduce-comment-procedure</kbd></span></dt>
<dd><p>As for <code>reduce-comment-region</code>, but applies to the procedure ending
after point.
</p></dd>
</dl>


</div>
<hr>
<div class="header">
<p>
Next: <a href="Indentation.html">Indenting REDUCE code automatically</a>, Previous: <a href="Procedures.html">Procedure-oriented commands</a>, Up: <a href="index.html">REDUCE Integrated Development Environment</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
