<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Invoking Pipes</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,html --> 
<meta name="src" content="allman1.tex"> 
<meta name="date" content="2014-05-02 18:10:00"> 
<link rel="stylesheet" type="text/css" href="allman1.css"> 
</head><body 
>
<p align="centre"><img src="https://reduce-algebra.sourceforge.io/lisp-docs/redlogo.png" width=621 height=60 border=0 alt="REDUCE"></p><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li20.html#allman1se92.html" >Up</a></td><td class="clinks"><a 
href="allman1se93.html" >Next</a></td><td class="clinks"><a 
href="allman1se91.html" >Prev</a></td><td class="clinks"><a 
href="allman1se91.html#tailallman1se91.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se92.html#tailallman1se92.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">21.3    </span> <a 
 id="x115-23200021.3"></a>Invoking Pipes</h3>
<!--l. 35--><p class="noindent" >Pipes are known to almost all the operating systems where PSL is implemented for. It usually
comes in two flavours, named pipes and anonymous pipes. PSL uses the anonymous pipes for
unidirectional communication. One standard operation is the connection to the Gnuplot graphics
system from the REDUCE computer algebra system. In the following we describe the pipes
operation in PSL under Unix and Windows.
<!--l. 43--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">21.3.1    </span> <a 
 id="x115-23300021.3.1"></a>Pipes under Unix</h4>
<!--l. 45--><p class="noindent" >The pipe interface can be made available by loading the module <span 
class="ptmb7t-x-x-120">pipes</span>.
<!--l. 48--><p class="noindent" ><div class="minipage"><a 
 id="dx115-233001"></a>
<span 
class="ptmb7t-x-x-120">(pipe-open CMD:string MODE:id):Channel                                                            </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">
</div>
</div>The Unix system tries to create the process defined by CMD using the usual Unix mechanisms
like pathes etc. Depending on the MODE either the stdin or the stdout is connected to the PSL
program during the evaluation. The resulting LISP I/O file is returned such that in subsequent
read or write operation to this file the command input or output is used. MODE needs to be
either <span 
class="pcrr7t-x-x-120">input </span>or <span 
class="pcrr7t-x-x-120">output</span>.
<!--l. 57--><p class="noindent" >A pipe can be used as a normal LISP file. A close operation on the file will terminate the
process. If the user wants to keep the process alive, instead of close the following function has to
be used:
<!--l. 64--><p class="noindent" ><div class="minipage"><a 
 id="dx115-233002"></a>
<span 
class="ptmb7t-x-x-120">(abandonpipe Channel):undefined                                                                             </span><span 
class="ptmri7t-x-x-120">expr</span>
<br 
class="newline" /><div class="minipage">This  closes  the  pipe  created  by  pipe-open,  but  the  process  will  remain
active.</div></div>
<!--l. 66--><p class="noindent" >Examples:

<div class="verbatim" id="verbatim-423">
&#x00A0;<br />(load&#x00A0;pipes)
&#x00A0;<br />(setq&#x00A0;mail&#x00A0;(pipe-open&#x00A0;"mail&#x00A0;hugo@zib.de"&#x00A0;'output))
&#x00A0;<br />(wrs&#x00A0;mail)
&#x00A0;<br />(prin2&#x00A0;"This&#x00A0;is&#x00A0;the&#x00A0;result&#x00A0;of&#x00A0;(expt&#x00A0;10&#x00A0;100)&#x00A0;")
&#x00A0;<br />(prin2t&#x00A0;(expt&#x00A0;10&#x00A0;100))
&#x00A0;<br />(wrs&#x00A0;nil)
&#x00A0;<br />(close&#x00A0;mail)
&#x00A0;<br />
&#x00A0;<br />(load&#x00A0;pipes)
&#x00A0;<br />(setq&#x00A0;unix&#x00A0;(pipe-open&#x00A0;"uname&#x00A0;-s"&#x00A0;'input))
&#x00A0;<br />(rds&#x00A0;unix)
&#x00A0;<br />(setq&#x00A0;variant&#x00A0;(read))
&#x00A0;<br />(rds&#x00A0;nil)
&#x00A0;<br />(close&#x00A0;unix)
</div>
<!--l. 83--><p class="nopar" >
<!--l. 85--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">21.3.2    </span> <a 
 id="x115-23400021.3.2"></a>Pipes under MS/DOS</h4>
<!--l. 87--><p class="noindent" >The pipe interface can be made available by loading the module <span 
class="ptmb7t-x-x-120">pipes</span>.
<!--l. 89--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">21.3.3    </span> <a 
 id="x115-23500021.3.3"></a>Pipes under MS Windows</h4>
<!--l. 91--><p class="noindent" >The pipe interface can be made available by loading the module <span 
class="ptmb7t-x-x-120">w-pipes</span>.

<!--l. 93--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="allman1li20.html#allman1se92.html" >Up</a></td><td class="clinks"><a 
href="allman1se93.html" >Next</a></td><td class="clinks"><a 
href="allman1se91.html" >Prev</a></td><td class="clinks"><a 
href="allman1se91.html#tailallman1se91.html" >PrevTail</a></td><td class="clinks"><a 
href="allman1se92.html" >Front</a></td></tr></table><a 
 id="tailallman1se92.html"></a>   
</body></html> 
