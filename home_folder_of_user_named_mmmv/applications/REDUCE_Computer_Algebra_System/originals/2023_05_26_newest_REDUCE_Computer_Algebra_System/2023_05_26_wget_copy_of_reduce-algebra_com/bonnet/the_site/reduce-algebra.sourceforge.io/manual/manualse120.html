<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Assignment Tracing: RTRST, UNRTRST</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="manual.css" /> 
<meta name="src" content="manual.tex" /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script type="text/javascript" async="async" id="MathJax-script" src="../../cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>  
<meta name="description" content="The REDUCE Computer Algebra System User's Manual" /> 
</head><body 
>
<header>REDUCE</header><table cellspacing="5"><tr><td class="clinks"><a 
href="manualch19.html#manualse120.html" >Up</a></td><td class="clinks"><a 
href="manualse121.html" >Next</a></td><td class="clinks"><a 
href="manualse119.html" >Prev</a></td><td class="clinks"><a 
href="manualse119.html#tailmanualse119.html" >PrevTail</a></td><td class="clinks"><a 
href="manualse120.html#tailmanualse120.html">Tail</a></td></tr></table><h3 class="sectionHead"><span class="titlemark">19.4    </span> <a 
 id="x159-30200019.4"></a>Assignment Tracing: RTRST, UNRTRST</h3>
<!--l. 171--><p class="noindent" ><a 
 id="command:RTRST"></a> <a 
 id="command:UNRTRST"></a> <a 
 id="dx159-302001"></a> <a 
 id="dx159-302002"></a> One often needs information about the internal behaviour of a procedure, especially if
it is a longer piece of code. For an interpreted procedure declared in an <span 
class="pcrr8t-x-x-109">rtrst</span>
command:
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-564">
rtrst &#x003C;proc1&#x003E;, &#x003C;proc2&#x003E;, ..., &#x003C;procn&#x003E;;
</pre>
<!--l. 180--><p class="nopar" > all explicit assignments executed (as either the symbolic-mode <span 
class="pcrr8t-x-x-109">setq </span>or the
algebraic-mode <span 
class="pcrr8t-x-x-109">setk</span>) inside these procedures are displayed during procedure
execution. All procedure tracing (assignment and entry-exit) is removed by the command
<span 
class="pcrr8t-x-x-109">unrtrst </span>(or <span 
class="pcrr8t-x-x-109">unrtr</span>, for which it is just a synonym):
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-565">
unrtrst &#x003C;proc1&#x003E;, &#x003C;proc2&#x003E;, ..., &#x003C;procn&#x003E;;
</pre>
<!--l. 190--><p class="nopar" > Assignment tracing is not possible if a procedure is compiled, either because it was
loaded from a “fasl” ﬁle or image, or because it was compiled as it was read in as source
code. This is because assignment tracing works by modifying the interpreted code of the
procedure, which must therefore be available.
</p><!--l. 197--><p class="noindent" >Applying <span 
class="pcrr8t-x-x-109">rtr </span>to a procedure that has been declared in an <span 
class="pcrr8t-x-x-109">rtrst </span>command, or
vice versa, toggles the type of tracing applied (and displays an explanatory
message).
</p><!--l. 201--><p class="noindent" >Note that when a program contains a <span 
class="pcrr8t-x-x-109">for </span>loop, REDUCE translates this to a sequence of
Lisp instructions. When using <span 
class="pcrr8t-x-x-109">rtrst</span>, the printout is driven by the “unfolded” code.
When the code contains a <span 
class="pcrr8t-x-x-109">for each </span><span 
class="pcrr8t-x-x-109">… in </span>statement, the name of the control variable
is internally used to keep the remainder of the list during the loop, and you will see the
corresponding assignments in the trace rather than the individual values in the loop steps,
e.g.
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-566">
procedure fold u;
   for each x in u sum x$

rtrst fold;

(fold)

fold {z, z*y, y};
</pre>
<!--l. 218--><p class="nopar" > produces the following output (using CSL-REDUCE):
                                                                     

                                                                     
</p>
<pre class="verbatim" id="verbatim-567">
Enter (1) fold
   u:  {z,y*z,y}$
x := [z,y*z,y]$
G0 := 0$
G0 := z$
x := [y*z,y]$
G0 := z*(y + 1)$
x := [y]$
G0 := y*z + y + z$
x := []$
Leave (1) fold = y*z + y + z$

y*z + y + z

unrtrst fold;

(fold)
</pre>
<!--l. 238--><p class="nopar" > In this example, the printed assignments for <span 
class="pcrr8t-x-x-109">x </span>show the various stages of the loop. The
variable <span 
class="pcrr8t-x-x-109">G0 </span>is an internally generated place-holder for the sum, and may have a slightly
diﬀerent name depending on the underlying Lisp systems.
                                                                     

                                                                     
</p><!--l. 244--><p class="noindent" ><table cellspacing="5"><tr><td class="clinks"><a 
href="manualch19.html#manualse120.html" >Up</a></td><td class="clinks"><a 
href="manualse121.html" >Next</a></td><td class="clinks"><a 
href="manualse119.html" >Prev</a></td><td class="clinks"><a 
href="manualse119.html#tailmanualse119.html" >PrevTail</a></td><td class="clinks"><a 
href="manualse120.html" >Front</a></td></tr></table><a 
 id="tailmanualse120.html"></a> <hr> <p style="font-family:sans-serif">Hosted by <a href="https://sourceforge.net/p/reduce-algebra/"> <img title="Download REDUCE" alt="Download REDUCE" style="vertical-align:middle" src="https://sourceforge.net/sflogo.php?type=16&amp;group_id=248416"/></a> <a href="https://www.mathjax.org"> <img title="Powered by MathJax" alt="Powered by MathJax" style="float:right" src="https://www.mathjax.org/badge/badge.gif"/></a></p></p> 
</body> 
</html>